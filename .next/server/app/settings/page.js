(()=>{var e={};e.id=6938,e.ids=[6938],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},49335:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.Z,__next_app__:()=>u,originalPathname:()=>c,pages:()=>d,routeModule:()=>m,tree:()=>i}),r(57322),r(46855),r(26083),r(35866);var t=r(23191),a=r(88716),n=r(48001),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(s,l);let i=["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,57322)),"C:\\dev\\Dealership Copilot\\app\\settings\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,46855)),"C:\\dev\\Dealership Copilot\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,26083)),"C:\\dev\\Dealership Copilot\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\dev\\Dealership Copilot\\app\\settings\\page.tsx"],c="/settings/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},78058:(e,s,r)=>{Promise.resolve().then(r.bind(r,80942))},80942:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>m});var t=r(10326),a=r(17577),n=r(35047),o=r(33136),l=r(8903),i=r(21021),d=r(3679),c=r(99833);let u=(0,l.B)();function m(){(0,n.useRouter)();let{user:e,loading:s}=(0,o.a)(),[r,l]=(0,a.useState)(""),[m,p]=(0,a.useState)(""),[g,x]=(0,a.useState)(!1),[h,b]=(0,a.useState)(null),[w,f]=(0,a.useState)(!1),[y,j]=(0,a.useState)(null),v=async e=>{if(e.preventDefault(),x(!0),b(null),f(!1),r!==m){b("Passwords do not match"),x(!1);return}if(r.length<8){b("Password must be at least 8 characters"),x(!1);return}console.log("[Settings] Calling updateUser to set password");try{let{data:e,error:s}=await u.auth.updateUser({password:r});if(console.log("[Settings] updateUser response:",{hasData:!!e,hasUser:!!e?.user,hasError:!!s,errorMessage:s?.message,errorStatus:s?.status,errorName:s?.name}),s){console.error("[Settings] updateUser ERROR:",{method:"updateUser",httpStatus:s.status,message:s.message,name:s.name,fullError:s});let e=s.message||"Failed to set password. Please try again.";b(e),j({message:e,type:"error"}),x(!1);return}console.log("[Settings] updateUser SUCCESS - Password set"),f(!0),l(""),p(""),j({message:"Password set. You can now sign in with email + password too.",type:"success"}),x(!1)}catch(e){console.error("[Settings] updateUser EXCEPTION:",{method:"updateUser",message:e.message,name:e.name,stack:e.stack}),b(e.message||"An error occurred. Please try again."),j({message:e.message||"An error occurred. Please try again.",type:"error"}),x(!1)}};return s?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):e?(0,t.jsxs)(t.Fragment,{children:[y&&t.jsx(c.Z,{message:y.message,type:y.type,onClose:()=>j(null)}),t.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),t.jsx("p",{className:"text-gray-600",children:"Manage your account settings"})]}),t.jsx(i.Z,{children:(0,t.jsxs)("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-1",children:"Password"}),t.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Set a password to sign in with email and password. If you originally signed up with Google, this will allow you to use email/password sign-in too."}),w&&t.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:t.jsx("p",{className:"text-sm text-green-700",children:"Password set successfully! You can now sign in with email + password."})}),(0,t.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[h&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:t.jsx("p",{className:"text-sm text-red-700",children:h})}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),t.jsx("input",{id:"password",type:"password",value:r,onChange:e=>l(e.target.value),required:!0,minLength:8,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter new password"}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Must be at least 8 characters"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),t.jsx("input",{id:"confirmPassword",type:"password",value:m,onChange:e=>p(e.target.value),required:!0,minLength:8,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Confirm new password"})]}),t.jsx(d.Z,{type:"submit",disabled:g,children:g?"Setting password...":"Set Password"})]})]})})]})})]}):null}},99833:(e,s,r)=>{"use strict";r.d(s,{Z:()=>a});var t=r(10326);function a({message:e,type:s,onClose:r,duration:a=5e3}){return t.jsx("div",{className:"fixed top-4 right-4 z-50 animate-in slide-in-from-top-5",children:(0,t.jsxs)("div",{className:`${{error:"bg-red-500",success:"bg-green-500",info:"bg-blue-500"}[s]} text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-3 min-w-[300px] max-w-md`,children:[t.jsx("p",{className:"flex-1 text-sm font-medium",children:e}),t.jsx("button",{onClick:r,className:"text-white hover:text-gray-200 transition-colors","aria-label":"Close",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}r(17577)},21021:(e,s,r)=>{"use strict";r.d(s,{Z:()=>a});var t=r(10326);function a({children:e,className:s=""}){return t.jsx("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 ${s}`,children:e})}r(17577)},57322:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(68570).createProxy)(String.raw`C:\dev\Dealership Copilot\app\settings\page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[8948,3786,2883],()=>r(49335));module.exports=t})();