(()=>{var e={};e.id=2944,e.ids=[2944,8798],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},10565:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.Z,__next_app__:()=>u,originalPathname:()=>c,pages:()=>d,routeModule:()=>m,tree:()=>o}),a(8071),a(46855),a(26083),a(35866);var s=a(23191),r=a(88716),l=a(48001),i=a(95231),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);a.d(t,n);let o=["",{children:["calculator",{children:["[variant]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,8071)),"C:\\dev\\Dealership Copilot\\app\\calculator\\[variant]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,46855)),"C:\\dev\\Dealership Copilot\\app\\layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,26083)),"C:\\dev\\Dealership Copilot\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\dev\\Dealership Copilot\\app\\calculator\\[variant]\\page.tsx"],c="/calculator/[variant]/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/calculator/[variant]/page",pathname:"/calculator/[variant]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},14923:(e,t,a)=>{Promise.resolve().then(a.bind(a,90730))},90730:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var s=a(10326),r=a(35047),l=a(17577),i=a(21021),n=a(3679),o=a(33136),d=a(57166),c=a(78798);function u({initialVariant:e="free"}={}){let t=(0,r.useRouter)(),{user:a,loading:u}=(0,o.a)(),{ownedPacks:m}=function(){let[e,t]=(0,l.useState)({ownedPacks:[],allAccess:!1});return{...e,refresh:()=>{t((0,c.HF)()),window.dispatchEvent(new Event("packEntitlementsChanged"))}}}(),[x,p]=(0,l.useState)(e),g=(0,c.wT)("in_person")||(0,c.UW)(),b=(0,c.wT)("first_time")||(0,c.UW)(),h=g&&"in_person"===x,f=b&&"first_time"===x,[y,j]=(0,l.useState)("basics"),[v,N]=(0,l.useState)(""),[C,w]=(0,l.useState)(""),[k,S]=(0,l.useState)(""),[D,A]=(0,l.useState)("used"),[F,O]=(0,l.useState)("dealer"),[T,P]=(0,l.useState)(""),[M,R]=(0,l.useState)(!1),[$,I]=(0,l.useState)(null),[L,_]=(0,l.useState)(!1),[E,Z]=(0,l.useState)(""),[W,V]=(0,l.useState)(""),[H,Y]=(0,l.useState)(""),[z,G]=(0,l.useState)(""),[B,q]=(0,l.useState)([]),[K,U]=(0,l.useState)(""),[X,J]=(0,l.useState)(""),[Q,ee]=(0,l.useState)(""),[et,ea]=(0,l.useState)([]),[es,er]=(0,l.useState)([]),[el,ei]=(0,l.useState)(0),[en,eo]=(0,l.useState)(0),[ed,ec]=(0,l.useState)(0),[eu,em]=(0,l.useState)(!1),[ex,ep]=(0,l.useState)(!1),[eg,eb]=(0,l.useState)(""),[eh,ef]=(0,l.useState)(""),[ey,ej]=(0,l.useState)(""),[ev,eN]=(0,l.useState)(""),eC=async()=>{if(!v||!C){alert("Please enter both state and ZIP code");return}_(!0);try{let e=await fetch(`/api/tax-lookup?state=${encodeURIComponent(v)}&zip=${encodeURIComponent(C)}`),t=await e.json();t.success&&t.rate?(P(t.rate.toString()),I({stateBaseRate:t.stateBaseRate||t.rate,combinedRate:t.rate,confidence:t.confidence||"high",source:t.source||"zip_lookup",provider:t.provider||"fallback"}),R(!1)):alert(t.error||"Failed to lookup tax rate")}catch(e){console.error("Tax lookup error:",e),alert("Failed to lookup tax rate")}finally{_(!1)}},ew=()=>{if(!K||!X){alert("Please enter both fee name and amount");return}let e=parseFloat(X);if(isNaN(e)||e<=0){alert("Please enter a valid amount");return}q([...B,{id:Date.now().toString(),name:K,amount:e,isCustom:!0}]),U(""),J("")},ek=e=>{q(B.filter(t=>t.id!==e))},eS=()=>{if(!Q.trim()){ea([]);return}let e=Q.split("\n").filter(e=>e.trim()),t=[];for(let a of e){let e=a.match(/[\$]?([\d,]+\.?\d*)/),s=e?parseFloat(e[1].replace(/,/g,"")):0,r=a.replace(/[\$][\d,]+\.?\d*/g,"").replace(/[:-]\s*$/,"").trim();if(r&&s>0){let e="normal",a=r.toLowerCase();(a.includes("warranty")||a.includes("protection")||a.includes("coating"))&&(e="maybe"),(a.includes("etch")||a.includes("fabric")||a.includes("paint")||a.includes("rust"))&&(e="inflated"),s>2e3&&(e="inflated"),t.push({name:r,price:s,classification:e})}}ea(t)};return u?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)(i.Z,{className:"p-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Smart OTD Builder"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Calculate your out-the-door price with all fees, taxes, and add-ons"}),(0,s.jsxs)("div",{className:"flex space-x-2 mb-6 border-b border-gray-200",children:[s.jsx("button",{onClick:()=>j("basics"),className:`px-4 py-2 font-medium ${"basics"===y?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:f?"Step 1: Verify Your Location & Price":"Step 1: Basics"}),s.jsx("button",{onClick:()=>j("fees"),className:`px-4 py-2 font-medium ${"fees"===y?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:f?"Step 2: Common Fees to Expect":"Step 2: Fees"}),s.jsx("button",{onClick:()=>j("addons"),className:`px-4 py-2 font-medium ${"addons"===y?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:f?"Step 3: Identify Optional Add-Ons":"Step 3: Add-on Detector"}),s.jsx("button",{onClick:()=>"results"===y&&j("results"),className:`px-4 py-2 font-medium ${"results"===y?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,disabled:"results"!==y,children:f?"OTD Reality Check":"Your OTD Estimate"})]}),"basics"===y&&(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:f?"Step 1: Verify Your Location & Price":"Step 1: Basics"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Price (Listed Price)"}),s.jsx("input",{type:"text",value:k,onChange:e=>S(e.target.value),placeholder:"25000",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration State"}),(0,s.jsxs)("select",{value:v,onChange:e=>N(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Select state"}),Object.keys(d.X6).map(e=>s.jsx("option",{value:e,children:(0,d.pt)(e)},e))]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration ZIP Code (optional, for accurate tax rate)"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"text",value:C,onChange:e=>w(e.target.value),placeholder:"90210",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx(n.Z,{onClick:eC,disabled:L,children:L?"Looking up...":"Lookup Tax Rate"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tax Rate (%)",!f&&!M&&s.jsx("button",{type:"button",onClick:()=>R(!0),className:"ml-2 text-xs text-blue-600 hover:text-blue-700",children:"Override"})]}),s.jsx("input",{type:"number",value:T,onChange:e=>P(e.target.value),placeholder:"7.5",step:"0.01",disabled:L||f,readOnly:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"}),$&&(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["zip_lookup"===$.source?`Looked up: ${$.combinedRate||$.stateBaseRate}%`:`Estimated: ${$.combinedRate||$.stateBaseRate}%`,!f&&' Click "Override" to manually adjust.']})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(n.Z,{onClick:()=>j("fees"),children:"Continue to Fees"})})]})]}),"fees"===y&&(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:f?"Step 2: Common Fees to Expect":"Step 2: Fees"}),f&&(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-800 mb-4",children:[s.jsx("strong",{children:"\uD83D\uDCA1 Guardrail:"})," If the dealer hasn't provided a fee in writing, don't assume it applies. Ask for an itemized OTD worksheet."]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Documentation Fee (Doc Fee)"}),s.jsx("input",{type:"text",value:E,onChange:e=>Z(e.target.value),placeholder:"500",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title Fee"}),s.jsx("input",{type:"text",value:W,onChange:e=>V(e.target.value),placeholder:"50",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Fee"}),s.jsx("input",{type:"text",value:H,onChange:e=>Y(e.target.value),placeholder:"100",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),!f||ex?(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Other Dealer Fees (optional)"}),s.jsx("input",{type:"text",value:z,onChange:e=>G(e.target.value),placeholder:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}):(0,s.jsxs)("div",{children:[s.jsx(n.Z,{type:"button",variant:"secondary",size:"sm",onClick:()=>ep(!ex),children:ex?"Hide other dealer fees":"Add other dealer fees (optional)"}),ex&&s.jsx("input",{type:"text",value:z,onChange:e=>G(e.target.value),placeholder:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 mt-2"})]}),!f||eu?(0,s.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Custom Fees (from dealer worksheet)"}),B.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-700",children:[e.name,": $",e.amount.toLocaleString()]}),s.jsx(n.Z,{size:"sm",variant:"secondary",onClick:()=>ek(e.id),children:"Remove"})]},e.id)),(0,s.jsxs)("div",{className:"flex space-x-2 mt-2",children:[s.jsx("input",{type:"text",value:K,onChange:e=>U(e.target.value),placeholder:"Fee name",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("input",{type:"text",value:X,onChange:e=>J(e.target.value),placeholder:"Amount",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx(n.Z,{onClick:ew,children:"Add"})]})]}):(0,s.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[s.jsx(n.Z,{type:"button",variant:"secondary",size:"sm",onClick:()=>em(!eu),children:eu?"Hide custom fees":"Add fees from dealer worksheet (optional)"}),eu&&(0,s.jsxs)("div",{className:"mt-2",children:[B.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-700",children:[e.name,": $",e.amount.toLocaleString()]}),s.jsx(n.Z,{size:"sm",variant:"secondary",onClick:()=>ek(e.id),children:"Remove"})]},e.id)),(0,s.jsxs)("div",{className:"flex space-x-2 mt-2",children:[s.jsx("input",{type:"text",value:K,onChange:e=>U(e.target.value),placeholder:"Fee name",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("input",{type:"text",value:X,onChange:e=>J(e.target.value),placeholder:"Amount",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx(n.Z,{onClick:ew,children:"Add"})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx(n.Z,{variant:"secondary",onClick:()=>j("basics"),children:"Back"}),s.jsx(n.Z,{onClick:()=>j("addons"),children:"Continue to Add-ons"})]})]})]}),"addons"===y&&(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:f?"Step 3: Identify Optional Add-Ons":"Step 3: Add-on Detector"}),f&&(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-800 mb-4",children:[s.jsx("strong",{children:"\uD83D\uDCA1 Guardrail:"})," Most add-ons are optional. Paste the worksheet line items to identify what can be removed before agreeing to OTD."]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Paste add-ons from dealer worksheet (one per line)"}),s.jsx("textarea",{value:Q,onChange:e=>{ee(e.target.value),eS()},onBlur:eS,placeholder:"Extended Warranty - $2,500 GAP Insurance: $500 Paint Protection $300",rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),et.length>0&&(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Detected Add-ons:"}),s.jsx("div",{className:"space-y-2",children:et.map((e,t)=>(0,s.jsxs)("div",{className:`p-3 rounded-lg border ${"inflated"===e.classification?"bg-red-50 border-red-200":"maybe"===e.classification?"bg-yellow-50 border-yellow-200":"bg-gray-50 border-gray-200"}`,children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["$",e.price.toLocaleString()]})]}),(0,s.jsxs)("div",{children:["inflated"===e.classification&&s.jsx("span",{className:"text-xs font-medium text-red-700 bg-red-100 px-2 py-1 rounded",children:"⚠️ Likely inflated"}),"maybe"===e.classification&&s.jsx("span",{className:"text-xs font-medium text-yellow-700 bg-yellow-100 px-2 py-1 rounded",children:"⚠️ Review carefully"}),"normal"===e.classification&&s.jsx("span",{className:"text-xs font-medium text-gray-700 bg-gray-100 px-2 py-1 rounded",children:"✓ Normal"})]})]}),"inflated"===e.classification&&h&&s.jsx("p",{className:"text-xs text-red-700 mt-2",children:"Consider negotiating removal or significant reduction."})]},t))})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx(n.Z,{variant:"secondary",onClick:()=>j("fees"),children:"Back"}),s.jsx(n.Z,{onClick:()=>{let e=parseFloat(k)||0,t=parseFloat(T)||0,a=parseFloat(E)||0,s=parseFloat(W)||0,r=parseFloat(H)||0,l=parseFloat(z)||0,i=B.reduce((e,t)=>e+t.amount,0),n=et.reduce((e,t)=>e+t.price,0);ei(e+e*t/100+(a+s+r)),eo(e+e*t/100+(a+s+r+(l+i+n)*.5)),ec(e+e*t/100+(a+s+r+l+i)+n);let o=[];n>2e3&&o.push("High add-on costs detected. Review each item carefully."),l>500&&o.push("Unusually high dealer fees. Request itemized breakdown."),i>1e3&&o.push("Multiple custom fees detected. Verify each is necessary."),er(o),j("results")},children:"Calculate OTD"})]})]})]}),"results"===y&&(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:f?"OTD Reality Check":"Your OTD Estimate"}),(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"OTD Price Range"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Low Estimate"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",el.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Expected"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:["$",en.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"High Estimate"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",ed.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]}),f&&(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6",children:[(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dealer-Quoted OTD (optional)"}),s.jsx("input",{type:"number",value:ev,onChange:e=>eN(e.target.value),placeholder:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Paste the OTD the dealer sent you (from email or worksheet)."})]}),ev&&parseFloat(ev)>0&&(()=>{let e=parseFloat(ev),t=null;return t=e<=ed?{icon:"✅",color:"green",title:"Within expected range",nextStep:"Confirm everything in writing before agreeing."}:e>ed&&e<=1.05*ed?{icon:"⚠️",color:"yellow",title:"Slightly high — ask for itemized breakdown",nextStep:"Request a written itemized OTD breakdown and clarify optional add-ons."}:{icon:"❌",color:"red",title:"Inflated — add-ons/fees likely",nextStep:"Request a written itemized OTD breakdown and clarify optional add-ons."},(0,s.jsxs)("div",{className:`bg-white border-2 rounded-lg p-4 ${"green"===t.color?"border-green-300":"yellow"===t.color?"border-yellow-300":"border-red-300"}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-xl",children:t.icon}),s.jsx("h4",{className:`font-semibold ${"green"===t.color?"text-green-900":"yellow"===t.color?"text-yellow-900":"text-red-900"}`,children:t.title})]}),s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:(0,s.jsxs)("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Next step:"})," ",t.nextStep]})})]})})()]}),h&&(0,s.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-6 mb-6",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Dealer vs Target"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dealer Current OTD"}),s.jsx("input",{type:"number",value:eg,onChange:e=>eb(e.target.value),placeholder:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Target OTD"}),s.jsx("input",{type:"number",value:eh,onChange:e=>ef(e.target.value),placeholder:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Walk-Away Ceiling"}),s.jsx("input",{type:"number",value:ey,onChange:e=>ej(e.target.value),placeholder:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]})]}),s.jsx("div",{className:"bg-white border border-orange-300 rounded-lg p-4 mb-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Gap to Target:"}),s.jsx("span",{className:"ml-2 font-semibold text-gray-900",children:eg&&eh?(()=>{let e=parseFloat(eg)-parseFloat(eh);return e>=0?`+$${e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`:`-$${Math.abs(e).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`})():"—"})]}),(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Gap to Ceiling:"}),s.jsx("span",{className:"ml-2 font-semibold text-gray-900",children:eg&&ey?(()=>{let e=parseFloat(eg)-parseFloat(ey);return e>=0?`+$${e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`:`-$${Math.abs(e).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`})():"—"})]})]})}),eg&&eh&&s.jsx("div",{className:"bg-white border border-orange-300 rounded-lg p-3 mb-4",children:s.jsx("p",{className:"text-sm text-gray-700",children:parseFloat(eg)-parseFloat(eh)>0?"You're above target. Don't agree until OTD is at or below your number.":"You're at/under target. Confirm the written OTD breakdown before signing."})}),s.jsx(n.Z,{type:"button",variant:"secondary",onClick:()=>t.push("/copilot/in-person/live"),className:"w-full",children:"Open Deal Decision Advisor"})]}),es.length>0&&(0,s.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"font-semibold text-yellow-900 mb-2",children:"⚠️ Warnings"}),s.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-yellow-800",children:es.map((e,t)=>s.jsx("li",{children:e},t))})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx(n.Z,{variant:"secondary",onClick:()=>j("addons"),children:"Back"}),s.jsx(n.Z,{onClick:()=>j("basics"),children:"Start Over"})]})]})]})})})}function m(){let e=(0,r.useParams)(),t=function(e){switch(Array.isArray(e)?e[0]:e){case"first-time":return"first_time";case"in-person":return"in_person";default:return"free"}}(e?.variant);return s.jsx(u,{initialVariant:t})}},21021:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(10326);function r({children:e,className:t=""}){return s.jsx("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 ${t}`,children:e})}a(17577)},78798:(e,t,a)=>{"use strict";function s(e){return!1}function r(){return!1}function l(e){}function i(){return{ownedPacks:[],allAccess:!1}}a.d(t,{HF:()=>i,UW:()=>r,addPack:()=>l,wT:()=>s})},57166:(e,t,a)=>{"use strict";a.d(t,{X6:()=>s,pt:()=>r});let s={AL:2,AK:0,AZ:5.6,AR:6.5,CA:7.25,CO:2.9,CT:6.35,DE:0,FL:6,GA:4,HI:4.17,ID:6,IL:6.25,IN:7,IA:6,KS:6.5,KY:6,LA:4.45,ME:5.5,MD:6,MA:6.25,MI:6,MN:6.875,MS:5,MO:4.225,MT:0,NE:5.5,NV:6.85,NH:0,NJ:6.625,NM:5.125,NY:4,NC:4.75,ND:5,OH:5.75,OK:4.5,OR:0,PA:6,RI:7,SC:6,SD:4.5,TN:7,TX:6.25,UT:4.85,VT:6,VA:4.3,WA:6.5,WV:6,WI:5,WY:4,DC:6};function r(e){return({AL:"Alabama",AK:"Alaska",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",FL:"Florida",GA:"Georgia",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming",DC:"District of Columbia"})[e.toUpperCase()]||e}},8071:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(68570).createProxy)(String.raw`C:\dev\Dealership Copilot\app\calculator\[variant]\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[8948,3786,2883],()=>a(10565));module.exports=s})();