(()=>{var e={};e.id=7276,e.ids=[7276],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},76851:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>s.Z,__next_app__:()=>u,originalPathname:()=>c,pages:()=>d,routeModule:()=>p,tree:()=>o}),a(35710),a(46855),a(26083),a(35866);var t=a(23191),i=a(88716),s=a(48001),l=a(95231),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);a.d(r,n);let o=["",{children:["copilot",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,35710)),"C:\\dev\\Dealership Copilot\\app\\copilot\\new\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,46855)),"C:\\dev\\Dealership Copilot\\app\\layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,26083)),"C:\\dev\\Dealership Copilot\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\dev\\Dealership Copilot\\app\\copilot\\new\\page.tsx"],c="/copilot/new/page",u={require:a,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/copilot/new/page",pathname:"/copilot/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},22365:(e,r,a)=>{Promise.resolve().then(a.bind(a,6257))},6257:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>c});var t=a(10326),i=a(17577),s=a(35047),l=a(33136),n=a(21021),o=a(3679),d=a(87466);function c(){let{user:e,loading:r}=(0,l.a)(),a=(0,s.useRouter)(),[c,u]=(0,i.useState)(null),[p,m]=(0,i.useState)({}),[h,b]=(0,i.useState)(0),[g,x]=(0,i.useState)(!1),[f,y]=(0,i.useState)(null);if(r)return t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});if(!e)return t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("p",{className:"text-gray-600 mb-4",children:"Please sign in to use this feature"}),t.jsx("a",{href:"/login",className:"text-blue-600 hover:text-blue-700",children:"Sign In"})]})});let v=c?(0,d.Z)(c):null,j=v?.wizardQuestions||[],N=j[h],w=e=>{u(e),m({pack_type:e,payment_method:"finance",has_trade_in:!1}),b(0)},P=(e,r)=>{m(a=>({...a,[e]:r}))},_=async()=>{if(c){x(!0),y(null);try{let e=await fetch("/api/copilot/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...p,pack_type:c})}),r=await e.json();if(!r.success)throw Error(r.error||"Failed to create session");a.push(`/copilot/${r.sessionId}`)}catch(e){y(e.message||"Failed to create session"),x(!1)}}};return c?t.jsx("div",{className:"min-h-screen bg-gray-50",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8 lg:py-12",children:[(0,t.jsxs)("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:v?.name}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${(h+1)/j.length*100}%`}})}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[h+1," / ",j.length]})]})]}),f&&t.jsx(n.Z,{className:"bg-red-50 border-red-200 mb-6",children:t.jsx("p",{className:"text-red-700",children:f})}),t.jsx(n.Z,{className:"mb-6",children:N&&t.jsx("div",{className:"space-y-6",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-lg font-semibold text-gray-900 mb-2",children:[N.label,N.required&&t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),N.helpText&&t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:N.helpText}),"select"===N.type&&t.jsx("div",{className:"space-y-3",children:N.options?.map((e,r)=>t.jsx("button",{onClick:()=>P(N.id,e.value),className:`w-full text-left p-4 border-2 rounded-lg transition ${p[N.id]===e.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:e.label},`${N.id}-${r}-${String(e.value)}`))}),"number"===N.type&&t.jsx("input",{type:"number",value:"number"==typeof p[N.id]?p[N.id]:"",onChange:e=>P(N.id,parseFloat(e.target.value)||0),placeholder:N.placeholder,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),"boolean"===N.type&&(0,t.jsxs)("div",{className:"flex gap-4",children:[t.jsx("button",{onClick:()=>P(N.id,!0),className:`flex-1 p-4 border-2 rounded-lg transition ${!0===p[N.id]?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:"Yes"}),t.jsx("button",{onClick:()=>P(N.id,!1),className:`flex-1 p-4 border-2 rounded-lg transition ${!1===p[N.id]?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:"No"})]}),"text"===N.type&&t.jsx("input",{type:"text",value:"string"==typeof p[N.id]?p[N.id]:"",onChange:e=>P(N.id,e.target.value),placeholder:N.placeholder,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),"textarea"===N.type&&t.jsx("textarea",{value:"string"==typeof p[N.id]?p[N.id]:"",onChange:e=>P(N.id,e.target.value),placeholder:N.placeholder,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})})}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx(o.Z,{variant:"secondary",onClick:()=>{h>0?b(h-1):u(null)},disabled:g,children:0===h?"Back to Packs":"Back"}),t.jsx(o.Z,{onClick:()=>{h<j.length-1?b(h+1):_()},disabled:g||N?.required&&!p[N.id],children:g?"Creating...":h===j.length-1?"Start Negotiation":"Next"})]})]})}):t.jsx("div",{className:"min-h-screen bg-gray-50",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 lg:py-12",children:[(0,t.jsxs)("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Start New Negotiation"}),t.jsx("p",{className:"text-gray-600",children:"Choose a pack that matches your situation"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.values(d.l).map(e=>(0,t.jsxs)("div",{className:"p-6 hover:shadow-lg transition cursor-pointer bg-white rounded-xl shadow-sm border border-slate-200",onClick:()=>w(e.id),children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.name}),t.jsx("p",{className:"text-gray-600 text-sm mb-4",children:e.description}),t.jsx(o.Z,{className:"w-full",children:"Select Pack"})]},e.id))})]})})}},21021:(e,r,a)=>{"use strict";a.d(r,{Z:()=>i});var t=a(10326);function i({children:e,className:r=""}){return t.jsx("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 ${r}`,children:e})}a(17577)},87466:(e,r,a)=>{"use strict";a.d(r,{Z:()=>i,l:()=>t});let t={first_time:{id:"first_time",name:"First-Time Buyer Pack",description:"Guidance for first-time buyers: financing basics, affordability, clarity.",features:["Budget & credit band questions","APR & term definitions","OTD vs monthly education","First-time friendly scripts"],education:["OTD includes taxes, fees, and registration - focus on OTD, not monthly.","APR is the annualized cost of borrowing - compare against pre-approval if you have one.","Longer terms lower monthly payment but increase total interest paid."],questions:[{id:"budget",label:"Max OTD budget",type:"number",required:!0,placeholder:"e.g., 25000"},{id:"credit_band",label:"Credit range (approx)",type:"select",required:!1,options:[{value:"excellent",label:"Excellent (760+)"},{value:"good",label:"Good (700-759)"},{value:"fair",label:"Fair (640-699)"},{value:"new",label:"Limited/First-time"}]},{id:"down_payment_est",label:"Down payment estimate",type:"number",required:!1,placeholder:"e.g., 4000"},{id:"driving_needs",label:"Primary driving needs",type:"text",required:!1,placeholder:"e.g., commute 40 miles daily"}]},cash:{id:"cash",name:"Cash Buyer Pack",description:"Cash-specific tactics and proof-of-funds handling.",features:["Cash disclosure timing","Proof-of-funds guidance","OTD and fees focus","No monthly payment talk"],education:["Delay disclosing cash until you have negotiated price.","Have proof of funds ready, but share only when it helps close at your price.","Cash can justify lower price: simpler deal, no financing reserve for dealer."],questions:[{id:"proof_of_funds",label:"Do you have proof of funds?",type:"boolean",required:!1},{id:"disclose_cash",label:"When do you want to disclose cash?",type:"select",required:!1,options:[{value:"late",label:"Only after price is agreed"},{value:"mid",label:"After initial counter"},{value:"early",label:"I prefer to disclose early"}]},{id:"open_to_finance",label:"Open to financing if it reduces price?",type:"boolean",required:!1}],comingSoon:!0},financing:{id:"financing",name:"Financing Buyer Pack",description:"Financing coaching: APR, term, pre-approval leverage.",features:["Max monthly & OTD focus","Pre-approval leverage","APR/term questions","Payment anchoring avoidance"],education:["Negotiate OTD first, financing second - do not anchor on monthly payment.","Compare dealer APR against your pre-approval; ask if low APR is contingent on add-ons.","Shorter terms cost more monthly but less interest overall."],questions:[{id:"target_monthly",label:"Target monthly (optional)",type:"number",required:!1,placeholder:"e.g., 400"},{id:"max_otd",label:"Max OTD",type:"number",required:!0,placeholder:"e.g., 25000"},{id:"preferred_term",label:"Preferred term",type:"select",required:!1,options:[{value:"36",label:"36 mo"},{value:"48",label:"48 mo"},{value:"60",label:"60 mo"},{value:"72",label:"72 mo"}]},{id:"pre_approved",label:"Do you have pre-approval?",type:"boolean",required:!1},{id:"pre_approval_rate",label:"Pre-approval APR",type:"number",required:!1,placeholder:"e.g., 5.5"}],comingSoon:!0},in_person:{id:"in_person",name:"In-Person Negotiation Pack",description:"Dealership talk tracks and pressure handling.",features:["Short talk tracks","Manager/pressure tactics","If they say X â†’ say Y","Closing script for OTD"],education:["Practice your talk track - don't rely on recording; use written notes instead.",'If "manager" pressure starts, slow down: ask for written OTD before deciding.',"Have 2-3 calm phrases ready for add-on upsells."],questions:[{id:"comfort_firm",label:"Comfort being firm?",type:"select",required:!1,options:[{value:"low",label:"Prefer soft approach"},{value:"medium",label:"Comfortable pushing back politely"},{value:"high",label:"Very firm when needed"}]},{id:"expected_objections",label:"Objections you expect",type:"textarea",required:!1,placeholder:'e.g., "Price is already low", "Manager approval needed".'},{id:"has_trade_in",label:"Trade-in?",type:"boolean",required:!1}]},bundle:{id:"bundle",name:"Complete Bundle",description:"Get both packs at a discounted price: First-Time Buyer Pack + In-Person Negotiation Pack.",features:["Everything in First-Time Buyer Pack","Everything in In-Person Negotiation Pack","Best value for comprehensive coverage","Unlock both packs with one purchase"],education:["The bundle includes all features from both individual packs.","Perfect if you want complete guidance from first contact through in-person negotiation.","Save money compared to buying packs separately."],questions:[]}};function i(e){return t[e]||t.first_time}},35710:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>t});let t=(0,a(68570).createProxy)(String.raw`C:\dev\Dealership Copilot\app\copilot\new\page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),t=r.X(0,[8948,3786,2883],()=>a(76851));module.exports=t})();