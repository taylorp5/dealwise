(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[262],{1074:function(e,t,n){Promise.resolve().then(n.bind(n,5632))},5632:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(7437),s=n(2265),i=n(9376),a=n(6281),l=n(9178),u=n(4226);function c(){let{user:e,loading:t}=(0,a.a)(),n=(0,i.useRouter)(),c=(0,i.useSearchParams)(),[o,d]=(0,s.useState)("");return((0,s.useEffect)(()=>{let e=null==c?void 0:c.get("message");e&&d(e)},[c]),(0,s.useEffect)(()=>{e&&!t&&(o&&localStorage.setItem("copilot_prefilled_message",o),n.replace("/copilot/free"))},[e,t,o,n]),t)?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Redirecting to Negotiation Draft Builder..."})]})}):e?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)(l.Z,{className:"p-8 max-w-md text-center",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Redirecting to Negotiation Draft Builder"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"The Message Interpreter has been integrated into the Negotiation Draft Builder."}),(0,r.jsx)(u.Z,{onClick:()=>n.push("/copilot/free"),children:"Go to Negotiation Draft Builder"})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Please sign in to use this feature"}),(0,r.jsx)("a",{href:"/login",className:"text-blue-600 hover:text-blue-700",children:"Sign In"})]})})}function o(){return(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}),children:(0,r.jsx)(c,{})})}},4226:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(7437);function s(e){let{variant:t="primary",size:n="md",className:s="",children:i,...a}=e;return(0,r.jsx)("button",{className:"".concat("font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500"}[t]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[n]," ").concat(s),...a,children:i})}n(2265)},9178:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(7437);function s(e){let{children:t,className:n=""}=e;return(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 ".concat(n),children:t})}n(2265)},6281:function(e,t,n){"use strict";n.d(t,{AuthProvider:function(){return u},a:function(){return c}});var r=n(7437),s=n(2265);let i=(0,n(9997).B)(),a=()=>{{let e="https://vabikejehdmpfcyqrgrs.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZhYmlrZWplaGRtcGZjeXFyZ3JzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NzAzNDAsImV4cCI6MjA4MTA0NjM0MH0.X_Z7szu62swGviqYgtI2mxV3F1vX4UBYpuZYV2n7h4Q";return!!(e&&t&&e.length>10&&t.length>10&&!e.includes("placeholder"))}},l=(0,s.createContext)(void 0);function u(e){let{children:t}=e,[n,u]=(0,s.useState)(null),[c,o]=(0,s.useState)(!0);(0,s.useEffect)(()=>{if(!a()){console.warn("Supabase not configured. Running in unauthenticated mode."),u(null),o(!1);return}let e=!0,t=null;(async()=>{try{let{data:{session:n},error:r}=await i.auth.getSession();if(!e)return;if(r)console.error("[AuthContext] Error getting initial session:",r),u(null);else{var t;console.log("[AuthContext] Initial session:",n?"User: ".concat(n.user.email):"No session"),u(null!==(t=null==n?void 0:n.user)&&void 0!==t?t:null)}o(!1)}catch(t){if(!e)return;console.error("[AuthContext] Error initializing auth:",t),u(null),o(!1)}})();let{data:{subscription:n}}=i.auth.onAuthStateChange(async(t,n)=>{var r;e&&(console.log("[AuthContext] Auth state changed:",t,n?"User: ".concat(n.user.email):"No session"),u(null!==(r=null==n?void 0:n.user)&&void 0!==r?r:null),o(!1))});return t=n,()=>{e=!1,t&&t.unsubscribe()}},[]);let d=async()=>{a()&&await i.auth.signOut(),u(null)};return(0,r.jsx)(l.Provider,{value:{user:n,loading:c,signOut:d},children:t})}function c(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9997:function(e,t,n){"use strict";n.d(t,{B:function(){return a}});var r=n(4033);let s="https://vabikejehdmpfcyqrgrs.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZhYmlrZWplaGRtcGZjeXFyZ3JzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NzAzNDAsImV4cCI6MjA4MTA0NjM0MH0.X_Z7szu62swGviqYgtI2mxV3F1vX4UBYpuZYV2n7h4Q";if(!s||!i){let e=[];throw s||e.push("NEXT_PUBLIC_SUPABASE_URL"),i||e.push("NEXT_PUBLIC_SUPABASE_ANON_KEY"),Error("[CRITICAL] Missing required Supabase environment variables: ".concat(e.join(", "),". ")+"These must be set in Vercel environment variables and available at build time.")}if(s.includes("placeholder")||i.includes("placeholder")){let e=[];throw s.includes("placeholder")&&e.push("NEXT_PUBLIC_SUPABASE_URL"),i.includes("placeholder")&&e.push("NEXT_PUBLIC_SUPABASE_ANON_KEY"),Error("[CRITICAL] Supabase environment variables contain placeholder values. Please set real values in Vercel environment variables. "+"Found placeholder in: ".concat(e.join(" and ")))}if(s.length<10||i.length<10)throw Error("[CRITICAL] Supabase environment variables appear to be invalid (too short). Please verify they are set correctly in Vercel.");function a(){return(0,r.createBrowserClient)(s,i)}},9376:function(e,t,n){"use strict";var r=n(5475);n.o(r,"useParams")&&n.d(t,{useParams:function(){return r.useParams}}),n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[33,971,117,744],function(){return e(e.s=1074)}),_N_E=e.O()}]);