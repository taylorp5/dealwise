(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5451],{2749:function(e,r,t){Promise.resolve().then(t.bind(t,8101))},8101:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return o}});var n=t(7437),s=t(2265),l=t(6281),a=t(9178),i=t(4226);function o(){let{user:e}=(0,l.a)(),[r,t]=(0,s.useState)(""),[o,u]=(0,s.useState)("Bug"),[c,d]=(0,s.useState)(""),[h,m]=(0,s.useState)(""),[g,p]=(0,s.useState)(!1),[b,f]=(0,s.useState)(!1),[x,v]=(0,s.useState)(null);(0,s.useEffect)(()=>{m(window.location.href)},[]),(0,s.useEffect)(()=>{(null==e?void 0:e.email)&&t(e.email)},[e]);let y=async e=>{if(e.preventDefault(),v(null),p(!0),!r.trim()||!r.includes("@")){v("Please enter a valid email address"),p(!1);return}if(!c.trim()){v("Please enter a message"),p(!1);return}try{let e=await fetch("/api/support",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.trim(),topic:o,message:c.trim(),pageUrl:h.trim()||void 0})}),n=await e.json();if(!e.ok)throw Error(n.error||"Failed to send message");f(!0),t(""),u("Bug"),d(""),m("")}catch(e){v(e.message||"An error occurred. Please try again.")}finally{p(!1)}};return(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,n.jsx)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)(a.Z,{className:"p-6",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Support"}),(0,n.jsx)("p",{className:"text-gray-600 mb-6",children:"Send us a message and we'll reply to the email you provide."}),b?(0,n.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:(0,n.jsx)("p",{className:"text-green-800",children:"Message received. We'll reply to your email."})}):(0,n.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[x&&(0,n.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,n.jsx)("p",{className:"text-red-800",children:x})}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",(0,n.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,n.jsx)("input",{id:"email",type:"email",value:r,onChange:e=>t(e.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"your@email.com"})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{htmlFor:"topic",className:"block text-sm font-medium text-gray-700 mb-2",children:["Topic ",(0,n.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,n.jsxs)("select",{id:"topic",value:o,onChange:e=>u(e.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,n.jsx)("option",{value:"Bug",children:"Bug"}),(0,n.jsx)("option",{value:"Billing",children:"Billing"}),(0,n.jsx)("option",{value:"Feature request",children:"Feature request"}),(0,n.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:["Message ",(0,n.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,n.jsx)("textarea",{id:"message",value:c,onChange:e=>d(e.target.value),required:!0,rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe your issue or question..."})]}),(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)(i.Z,{type:"submit",disabled:g,children:g?"Sending...":"Send"})})]})]})})})}},4226:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});var n=t(7437);function s(e){let{variant:r="primary",size:t="md",className:s="",children:l,...a}=e;return(0,n.jsx)("button",{className:"".concat("font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500"}[r]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[t]," ").concat(s),...a,children:l})}t(2265)},9178:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});var n=t(7437);function s(e){let{children:r,className:t=""}=e;return(0,n.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 ".concat(t),children:r})}t(2265)},6281:function(e,r,t){"use strict";t.d(r,{AuthProvider:function(){return o},a:function(){return u}});var n=t(7437),s=t(2265);let l=(0,t(9997).B)(),a=()=>{{let e="https://vabikejehdmpfcyqrgrs.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZhYmlrZWplaGRtcGZjeXFyZ3JzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NzAzNDAsImV4cCI6MjA4MTA0NjM0MH0.X_Z7szu62swGviqYgtI2mxV3F1vX4UBYpuZYV2n7h4Q";return!!(e&&r&&e.length>10&&r.length>10&&!e.includes("placeholder"))}},i=(0,s.createContext)(void 0);function o(e){let{children:r}=e,[t,o]=(0,s.useState)(null),[u,c]=(0,s.useState)(!0);(0,s.useEffect)(()=>{if(!a()){console.warn("Supabase not configured. Running in unauthenticated mode."),o(null),c(!1);return}let e=!0,r=null;(async()=>{try{let{data:{session:t},error:n}=await l.auth.getSession();if(!e)return;if(n)console.error("[AuthContext] Error getting initial session:",n),o(null);else{var r;console.log("[AuthContext] Initial session:",t?"User: ".concat(t.user.email):"No session"),o(null!==(r=null==t?void 0:t.user)&&void 0!==r?r:null)}c(!1)}catch(r){if(!e)return;console.error("[AuthContext] Error initializing auth:",r),o(null),c(!1)}})();let{data:{subscription:t}}=l.auth.onAuthStateChange(async(r,t)=>{var n;e&&(console.log("[AuthContext] Auth state changed:",r,t?"User: ".concat(t.user.email):"No session"),o(null!==(n=null==t?void 0:t.user)&&void 0!==n?n:null),c(!1))});return r=t,()=>{e=!1,r&&r.unsubscribe()}},[]);let d=async()=>{a()&&await l.auth.signOut(),o(null)};return(0,n.jsx)(i.Provider,{value:{user:t,loading:u,signOut:d},children:r})}function u(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9997:function(e,r,t){"use strict";t.d(r,{B:function(){return a}});var n=t(4033);let s="https://vabikejehdmpfcyqrgrs.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZhYmlrZWplaGRtcGZjeXFyZ3JzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NzAzNDAsImV4cCI6MjA4MTA0NjM0MH0.X_Z7szu62swGviqYgtI2mxV3F1vX4UBYpuZYV2n7h4Q";if(!s||!l){let e=[];throw s||e.push("NEXT_PUBLIC_SUPABASE_URL"),l||e.push("NEXT_PUBLIC_SUPABASE_ANON_KEY"),Error("[CRITICAL] Missing required Supabase environment variables: ".concat(e.join(", "),". ")+"These must be set in Vercel environment variables and available at build time.")}if(s.includes("placeholder")||l.includes("placeholder")){let e=[];throw s.includes("placeholder")&&e.push("NEXT_PUBLIC_SUPABASE_URL"),l.includes("placeholder")&&e.push("NEXT_PUBLIC_SUPABASE_ANON_KEY"),Error("[CRITICAL] Supabase environment variables contain placeholder values. Please set real values in Vercel environment variables. "+"Found placeholder in: ".concat(e.join(" and ")))}if(s.length<10||l.length<10)throw Error("[CRITICAL] Supabase environment variables appear to be invalid (too short). Please verify they are set correctly in Vercel.");function a(){return(0,n.createBrowserClient)(s,l)}}},function(e){e.O(0,[4033,2971,2117,1744],function(){return e(e.s=2749)}),_N_E=e.O()}]);