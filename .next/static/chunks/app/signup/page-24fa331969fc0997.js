(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{8773:function(e,s,r){Promise.resolve().then(r.bind(r,4665))},4665:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return m}});var t=r(7437),n=r(2265),a=r(9376),l=r(7648),o=r(9997),i=r(9178),c=r(4226),u=r(3583);let d=(0,o.B)();function m(){let e=(0,a.useRouter)(),[s,r]=(0,n.useState)(""),[o,m]=(0,n.useState)(""),[g,h]=(0,n.useState)(""),[p,f]=(0,n.useState)(!1),[x,b]=(0,n.useState)(null),[v,y]=(0,n.useState)(null),[j,N]=(0,n.useState)(null),w=async()=>{f(!0),b(null);try{let{error:e}=await d.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/auth/callback")}});e&&(b(e.message),f(!1))}catch(e){b(e.message||"An error occurred"),f(!1)}},C=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),U=async t=>{if(t.preventDefault(),f(!0),b(null),y(null),!C(s)){b("Please enter a valid email address"),f(!1);return}if(o!==g){b("Passwords do not match"),f(!1);return}if(o.length<6){b("Password must be at least 6 characters"),f(!1);return}console.log("[AUTH] Calling signUp for:",s);try{var n;let{data:t,error:a}=await d.auth.signUp({email:s,password:o});if(console.log("[AUTH] signUp response:",{hasData:!!t,hasUser:!!(null==t?void 0:t.user),hasSession:!!(null==t?void 0:t.session),userEmail:null==t?void 0:null===(n=t.user)||void 0===n?void 0:n.email,hasError:!!a,errorMessage:null==a?void 0:a.message,errorStatus:null==a?void 0:a.status,errorName:null==a?void 0:a.name}),a){console.error("[AUTH] signUp ERROR:",{method:"signUp",httpStatus:a.status,message:a.message,name:a.name,fullError:a});let e=a.message||"Failed to create account. Please try again.";b(e),N({message:e,type:"error"}),f(!1);return}if(t.user&&!t.session){console.log("[AUTH] signUp SUCCESS - Email confirmation required for:",t.user.email),y("Account created! Please check your email to confirm your account before signing in."),f(!1),r(""),m(""),h("");return}if(t.user&&t.session){console.log("[AUTH] signUp SUCCESS - User signed in immediately:",t.user.email),y("Account created successfully!"),f(!1),setTimeout(()=>{e.push("/"),e.refresh()},1500);return}console.log("[AUTH] signUp - Unclear state:",{user:t.user,session:t.session}),y("Account created! Please sign in."),f(!1),setTimeout(()=>{e.push("/login")},2e3)}catch(e){console.error("[AUTH] signUp EXCEPTION:",{method:"signUp",message:e.message,name:e.name,stack:e.stack}),b(e.message||"An error occurred. Please check your connection and try again."),f(!1)}};return(0,t.jsxs)(t.Fragment,{children:[j&&(0,t.jsx)(u.Z,{message:j.message,type:j.type,onClose:()=>N(null)}),(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"max-w-md w-full",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Sign Up"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Create your DealWise account"})]}),(0,t.jsxs)(i.Z,{children:[(0,t.jsxs)("form",{onSubmit:U,className:"space-y-6",children:[x&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,t.jsx)("p",{className:"text-sm text-red-700",children:x})}),v&&(0,t.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,t.jsx)("p",{className:"text-sm text-green-700",children:v})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,t.jsx)("input",{id:"email",type:"email",value:s,onChange:e=>r(e.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"you@example.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,t.jsx)("input",{id:"password",type:"password",value:o,onChange:e=>m(e.target.value),required:!0,minLength:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"••••••••"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Must be at least 6 characters"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),(0,t.jsx)("input",{id:"confirmPassword",type:"password",value:g,onChange:e=>h(e.target.value),required:!0,minLength:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"••••••••"})]}),(0,t.jsxs)("button",{type:"button",onClick:w,disabled:p,className:"w-full flex items-center justify-center gap-3 px-4 py-2.5 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[(0,t.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,t.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,t.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,t.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Continue with Google"})]}),(0,t.jsx)(c.Z,{type:"submit",className:"w-full",disabled:p,children:p?"Creating account...":"Sign Up"})]}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,t.jsx)(l.default,{href:"/login",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Sign in"})]})})]})]})})]})}},3583:function(e,s,r){"use strict";r.d(s,{Z:function(){return a}});var t=r(7437),n=r(2265);function a(e){let{message:s,type:r,onClose:a,duration:l=5e3}=e;return(0,n.useEffect)(()=>{let e=setTimeout(()=>{a()},l);return()=>clearTimeout(e)},[a,l]),(0,t.jsx)("div",{className:"fixed top-4 right-4 z-50 animate-in slide-in-from-top-5",children:(0,t.jsxs)("div",{className:"".concat({error:"bg-red-500",success:"bg-green-500",info:"bg-blue-500"}[r]," text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-3 min-w-[300px] max-w-md"),children:[(0,t.jsx)("p",{className:"flex-1 text-sm font-medium",children:s}),(0,t.jsx)("button",{onClick:a,className:"text-white hover:text-gray-200 transition-colors","aria-label":"Close",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}},4226:function(e,s,r){"use strict";r.d(s,{Z:function(){return n}});var t=r(7437);function n(e){let{variant:s="primary",size:r="md",className:n="",children:a,...l}=e;return(0,t.jsx)("button",{className:"".concat("font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500"}[s]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[r]," ").concat(n),...l,children:a})}r(2265)},9178:function(e,s,r){"use strict";r.d(s,{Z:function(){return n}});var t=r(7437);function n(e){let{children:s,className:r=""}=e;return(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 ".concat(r),children:s})}r(2265)},9997:function(e,s,r){"use strict";r.d(s,{B:function(){return l}});var t=r(4033);let n="https://vabikejehdmpfcyqrgrs.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZhYmlrZWplaGRtcGZjeXFyZ3JzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NzAzNDAsImV4cCI6MjA4MTA0NjM0MH0.X_Z7szu62swGviqYgtI2mxV3F1vX4UBYpuZYV2n7h4Q";if(!n||!a){let e=[];throw n||e.push("NEXT_PUBLIC_SUPABASE_URL"),a||e.push("NEXT_PUBLIC_SUPABASE_ANON_KEY"),Error("[CRITICAL] Missing required Supabase environment variables: ".concat(e.join(", "),". ")+"These must be set in Vercel environment variables and available at build time.")}if(n.includes("placeholder")||a.includes("placeholder")){let e=[];throw n.includes("placeholder")&&e.push("NEXT_PUBLIC_SUPABASE_URL"),a.includes("placeholder")&&e.push("NEXT_PUBLIC_SUPABASE_ANON_KEY"),Error("[CRITICAL] Supabase environment variables contain placeholder values. Please set real values in Vercel environment variables. "+"Found placeholder in: ".concat(e.join(" and ")))}if(n.length<10||a.length<10)throw Error("[CRITICAL] Supabase environment variables appear to be invalid (too short). Please verify they are set correctly in Vercel.");function l(){return(0,t.createBrowserClient)(n,a)}},9376:function(e,s,r){"use strict";var t=r(5475);r.o(t,"useParams")&&r.d(s,{useParams:function(){return t.useParams}}),r.o(t,"usePathname")&&r.d(s,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})}},function(e){e.O(0,[33,648,971,117,744],function(){return e(e.s=8773)}),_N_E=e.O()}]);