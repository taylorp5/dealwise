(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{2914:function(e,t,n){Promise.resolve().then(n.t.bind(n,7960,23)),Promise.resolve().then(n.bind(n,6540)),Promise.resolve().then(n.bind(n,6281))},6540:function(e,t,n){"use strict";n.d(t,{default:function(){return m}});var r=n(7437),s=n(7648),i=n(3145),a=n(9376),l=n(6281),o=n(2265),c=n(875),u=n(8728),d=n(7692),h=n(4226);function m(){let{user:e,signOut:t}=(0,l.a)(),n=(0,a.usePathname)(),[m,f]=(0,o.useState)(!1),b=(0,o.useRef)(null);(0,o.useEffect)(()=>{function e(e){b.current&&!b.current.contains(e.target)&&f(!1)}return m&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[m]);let x=e=>"/"===e?"/"===n:null==n?void 0:n.startsWith(e);return(0,r.jsx)("header",{className:"sticky top-0 z-50 bg-white/95 backdrop-blur-md border-b border-brand-border/60",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(s.default,{href:"/",className:"flex items-center group pl-2 pr-10",children:(0,r.jsx)(i.default,{src:"/brand/dealwise-logo.svg",alt:"DealWise logo",width:190,height:48,className:"h-14 w-auto",priority:!0})}),(0,r.jsx)("div",{className:"hidden lg:block w-px h-6 bg-brand-border ml-8 mr-8"}),(0,r.jsx)("nav",{className:"hidden lg:flex items-center space-x-6",children:[{href:"/copilot/free",label:"Negotiation Draft Builder",icon:null},{href:"/research",label:"Analyzer",icon:null},{href:"/calculator/free",label:"OTD Builder",icon:null},{href:"/packs",label:"Packs",icon:null}].map(e=>(0,r.jsx)(s.default,{href:e.href,className:"text-base transition-all duration-200 relative ".concat(x(e.href)?"text-brand-ink font-semibold":"text-brand-muted/90 hover:text-brand-ink font-medium"),children:(0,r.jsxs)("span",{className:"relative",children:[e.label,x(e.href)&&(0,r.jsx)("span",{className:"absolute -bottom-1.5 left-0 right-0 h-1 bg-primary rounded-full"})]})},e.href))})]}),(0,r.jsx)("div",{className:"flex items-center space-x-4",children:e?(0,r.jsxs)("div",{className:"relative",ref:b,children:[(0,r.jsxs)("button",{onClick:()=>f(!m),className:"flex items-center space-x-2 px-3 py-1.5 rounded-lg hover:bg-brand-background transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground text-xs font-medium",children:(e.email||"").split("@")[0].split(".").map(e=>e[0]).join("").toUpperCase().slice(0,2)}),(0,r.jsx)(c.Z,{className:"w-4 h-4 text-brand-muted transition-transform duration-200 ".concat(m?"rotate-180":"")})]}),m&&(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-xl border border-brand-border py-1 z-50 animate-[fadeIn_0.2s_ease-out,slideDown_0.2s_ease-out]",children:[(0,r.jsx)("div",{className:"px-4 py-3 border-b border-brand-border",children:(0,r.jsx)("p",{className:"text-sm font-medium text-brand-ink truncate",children:e.email})}),(0,r.jsxs)(s.default,{href:"/settings",className:"w-full flex items-center space-x-2 px-4 py-2 text-sm text-brand-muted hover:bg-brand-background transition-colors rounded-md mx-1",onClick:()=>f(!1),children:[(0,r.jsx)(u.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Settings"})]}),(0,r.jsxs)("button",{onClick:t,className:"w-full flex items-center space-x-2 px-4 py-2 text-sm text-brand-muted hover:bg-brand-background transition-colors rounded-md mx-1",children:[(0,r.jsx)(d.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Sign out"})]})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.default,{href:"/login",className:"text-base font-medium text-brand-muted hover:text-brand-ink transition-colors",children:"Sign In"}),(0,r.jsx)(s.default,{href:"/signup",children:(0,r.jsx)(h.Z,{size:"sm",variant:"primary",className:"px-4 py-1.5 text-sm",children:"Sign Up"})})]})})]})})})}},4226:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(7437);function s(e){let{variant:t="primary",size:n="md",className:s="",children:i,...a}=e;return(0,r.jsx)("button",{className:"".concat("font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500"}[t]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[n]," ").concat(s),...a,children:i})}n(2265)},6281:function(e,t,n){"use strict";n.d(t,{AuthProvider:function(){return o},a:function(){return c}});var r=n(7437),s=n(2265);let i=(0,n(9997).B)(),a=()=>{{let e="https://vabikejehdmpfcyqrgrs.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZhYmlrZWplaGRtcGZjeXFyZ3JzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NzAzNDAsImV4cCI6MjA4MTA0NjM0MH0.X_Z7szu62swGviqYgtI2mxV3F1vX4UBYpuZYV2n7h4Q";return!!(e&&t&&e.length>10&&t.length>10&&!e.includes("placeholder"))}},l=(0,s.createContext)(void 0);function o(e){let{children:t}=e,[n,o]=(0,s.useState)(null),[c,u]=(0,s.useState)(!0);(0,s.useEffect)(()=>{if(!a()){console.warn("Supabase not configured. Running in unauthenticated mode."),o(null),u(!1);return}let e=!0,t=null;(async()=>{try{let{data:{session:n},error:r}=await i.auth.getSession();if(!e)return;if(r)console.error("[AuthContext] Error getting initial session:",r),o(null);else{var t;console.log("[AuthContext] Initial session:",n?"User: ".concat(n.user.email):"No session"),o(null!==(t=null==n?void 0:n.user)&&void 0!==t?t:null)}u(!1)}catch(t){if(!e)return;console.error("[AuthContext] Error initializing auth:",t),o(null),u(!1)}})();let{data:{subscription:n}}=i.auth.onAuthStateChange(async(t,n)=>{var r;e&&(console.log("[AuthContext] Auth state changed:",t,n?"User: ".concat(n.user.email):"No session"),o(null!==(r=null==n?void 0:n.user)&&void 0!==r?r:null),u(!1))});return t=n,()=>{e=!1,t&&t.unsubscribe()}},[]);let d=async()=>{a()&&await i.auth.signOut(),o(null)};return(0,r.jsx)(l.Provider,{value:{user:n,loading:c,signOut:d},children:t})}function c(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9997:function(e,t,n){"use strict";n.d(t,{B:function(){return a}});var r=n(4033);let s="https://vabikejehdmpfcyqrgrs.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZhYmlrZWplaGRtcGZjeXFyZ3JzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NzAzNDAsImV4cCI6MjA4MTA0NjM0MH0.X_Z7szu62swGviqYgtI2mxV3F1vX4UBYpuZYV2n7h4Q";if(!s||!i){let e=[];throw s||e.push("NEXT_PUBLIC_SUPABASE_URL"),i||e.push("NEXT_PUBLIC_SUPABASE_ANON_KEY"),Error("[CRITICAL] Missing required Supabase environment variables: ".concat(e.join(", "),". ")+"These must be set in Vercel environment variables and available at build time.")}if(s.includes("placeholder")||i.includes("placeholder")){let e=[];throw s.includes("placeholder")&&e.push("NEXT_PUBLIC_SUPABASE_URL"),i.includes("placeholder")&&e.push("NEXT_PUBLIC_SUPABASE_ANON_KEY"),Error("[CRITICAL] Supabase environment variables contain placeholder values. Please set real values in Vercel environment variables. "+"Found placeholder in: ".concat(e.join(" and ")))}if(s.length<10||i.length<10)throw Error("[CRITICAL] Supabase environment variables appear to be invalid (too short). Please verify they are set correctly in Vercel.");function a(){return(0,r.createBrowserClient)(s,i)}},7960:function(){}},function(e){e.O(0,[3587,4033,7648,871,2971,2117,1744],function(){return e(e.s=2914)}),_N_E=e.O()}]);