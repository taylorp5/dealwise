(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[352],{6059:function(e,t,s){Promise.resolve().then(s.bind(s,3015))},3015:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var a=s(7437),r=s(2265),l=s(9376),n=s(6281),i=s(9178),o=s(4226),c=s(9997),d=s(911);let u=(0,c.B)();function m(){let{user:e,loading:t}=(0,n.a)();(0,l.useRouter)();let[s,c]=(0,r.useState)("first-time"),[m,x]=(0,r.useState)("initial_outreach"),[h,p]=(0,r.useState)("friendly"),[g,b]=(0,r.useState)("get_otd"),[f,y]=(0,r.useState)(""),[v,j]=(0,r.useState)(""),[N,I]=(0,r.useState)(""),[C,S]=(0,r.useState)(""),[w,_]=(0,r.useState)(""),[A,k]=(0,r.useState)(!1),[M,T]=(0,r.useState)(null),[R,D]=(0,r.useState)(!1),[P,F]=(0,r.useState)("none"),[O,E]=(0,r.useState)(""),[B,Z]=(0,r.useState)(""),[U,V]=(0,r.useState)(""),[L,Y]=(0,r.useState)(!1),[z,J]=(0,r.useState)(""),[G,X]=(0,r.useState)(!1),[W,q]=(0,r.useState)(null),[K,H]=(0,r.useState)(null),[Q,$]=(0,r.useState)(!1);(0,r.useEffect)(()=>{{let e=localStorage.getItem("copilot_vehicle_price_free")||localStorage.getItem("copilot_vehicle_price"),t=localStorage.getItem("copilot_desired_otd_free")||localStorage.getItem("copilot_desired_otd"),s=localStorage.getItem("copilot_state_free")||localStorage.getItem("copilot_state"),a=localStorage.getItem("copilot_car_context_free")||localStorage.getItem("copilot_car_context"),r=localStorage.getItem("copilot_prefilled_message_free")||localStorage.getItem("copilot_prefilled_message");e&&!f&&(y(e),localStorage.removeItem("copilot_vehicle_price")),t&&!v&&(j(t),localStorage.removeItem("copilot_desired_otd")),s&&!N&&(I(s),localStorage.removeItem("copilot_state")),a&&!z&&(J(a),localStorage.removeItem("copilot_car_context")),r&&!z&&(J(r),localStorage.removeItem("copilot_prefilled_message"))}},[]),(0,r.useEffect)(()=>{if(N&&!A){D(!0);let e=new URLSearchParams({state:N});C&&e.append("zip",C),fetch("/api/tax-lookup?".concat(e.toString())).then(e=>e.json()).then(e=>{if(e.success&&e.data){let t=e.data;T(t),void 0!==t.combinedRate?_(t.combinedRate.toFixed(2)):t.combinedRateRange?_(((t.combinedRateRange.low+t.combinedRateRange.high)/2).toFixed(2)):_(t.stateBaseRate.toFixed(2))}D(!1)}).catch(e=>{console.warn("Tax rate lookup failed:",e);let t=(0,d.R4)(N);null!==t&&_(t.toFixed(2)),D(!1)})}else N||(T(null),_(""),D(!1))},[N,C,A]);let ee=()=>f.trim()?N.trim()?"get_otd"!==g&&"close_today"!==g||v.trim()?isNaN(parseFloat(f))||0>=parseFloat(f)?"Vehicle price must be a valid number":v&&(isNaN(parseFloat(v))||0>=parseFloat(v))?"Desired OTD must be a valid number":null:"Desired OTD is required for this goal":"State is required":"Vehicle price is required",et=async e=>{e.preventDefault(),H(null);let t=ee();if(t){H(t);return}X(!0);try{let{data:{session:e}}=await u.auth.getSession(),t={"Content-Type":"application/json"};(null==e?void 0:e.access_token)&&(t.Authorization="Bearer ".concat(e.access_token));let a=localStorage.getItem("copilot_competitive_offers"),r=localStorage.getItem("scriptCarContext"),l=await fetch("/api/copilot/generate",{method:"POST",headers:t,body:JSON.stringify({buyerType:s,stage:m,tone:h,goal:g,vehiclePrice:parseFloat(f),desiredOTD:v?parseFloat(v):void 0,state:N.trim().toUpperCase(),registrationZip:C.trim()||void 0,taxRate:w?parseFloat(w):void 0,tradeIn:P,tradeInValue:"yes"===P&&O?parseFloat(O):void 0,preApprovalApr:L&&B?parseFloat(B):void 0,maxMonthly:L&&U?parseFloat(U):void 0,contextText:z.trim()||void 0,hasCompetitiveOffers:!!a,hasCarContext:!!r,mode:"free"})});if(!l.ok){let e=await l.text();throw Error("Failed to generate: ".concat(l.status," ").concat(e))}let n=await l.json();if(!n.success)throw Error(n.error||"Failed to generate response");q({...n.data,effectiveMode:n.effectiveMode,entitlementCheck:n.entitlementCheck})}catch(e){H(e.message||"Failed to generate response")}finally{X(!1)}},es=e=>{navigator.clipboard.writeText(e)};return t?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}):e?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("div",{className:"bg-blue-600 text-white text-center py-4 px-6 rounded-lg mb-4",children:(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"FREE NEGOTIATION DRAFT BUILDER"})}),(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Negotiation Draft Builder"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Get AI-powered negotiation messages tailored to your situation"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(i.Z,{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Your Situation"}),(0,a.jsxs)("form",{onSubmit:et,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Buyer Type ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("select",{value:s,onChange:e=>c(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,a.jsx)("option",{value:"first-time",children:"First-Time Buyer"}),(0,a.jsx)("option",{value:"cash",children:"Cash Buyer"}),(0,a.jsx)("option",{value:"financing",children:"Financing"}),(0,a.jsx)("option",{value:"lease",children:"Lease"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Negotiation Stage ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("select",{value:m,onChange:e=>x(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,a.jsx)("option",{value:"initial_outreach",children:"Initial Outreach"}),(0,a.jsx)("option",{value:"after_quote",children:"After Quote Received"}),(0,a.jsx)("option",{value:"after_counter",children:"After Counter Offer"}),(0,a.jsx)("option",{value:"in_person_today",children:"In Person Today"}),(0,a.jsx)("option",{value:"final_paperwork",children:"Final Paperwork"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tone ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("select",{value:h,onChange:e=>p(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,a.jsx)("option",{value:"friendly",children:"Friendly"}),(0,a.jsx)("option",{value:"neutral",children:"Neutral"}),(0,a.jsx)("option",{value:"firm",children:"Firm"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Goal ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("select",{value:g,onChange:e=>b(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,a.jsx)("option",{value:"get_otd",children:"Get OTD Price"}),(0,a.jsx)("option",{value:"reduce_addons",children:"Reduce Add-ons"}),(0,a.jsx)("option",{value:"lower_price",children:"Lower Price"}),(0,a.jsx)("option",{value:"schedule_visit_otd",children:"Schedule Visit (OTD)"}),(0,a.jsx)("option",{value:"close_today",children:"Close Today"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Vehicle Price ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"number",value:f,onChange:e=>y(e.target.value),placeholder:"e.g., 25000",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Desired OTD ",("get_otd"===g||"close_today"===g)&&(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"number",value:v,onChange:e=>j(e.target.value),placeholder:"e.g., 28000",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:"get_otd"===g||"close_today"===g})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["State ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:N,onChange:e=>I(e.target.value.toUpperCase()),placeholder:"e.g., CA",maxLength:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration ZIP Code (Optional)"}),(0,a.jsx)("input",{type:"text",value:C,onChange:e=>{S(e.target.value.replace(/\D/g,"").slice(0,5)),k(!1)},placeholder:"90210",maxLength:5,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tax Rate (%)"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"number",step:"0.01",value:w,onChange:e=>{_(e.target.value),k(!0)},placeholder:"6.5",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),R&&(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"})]}),(0,a.jsx)("p",{className:"mt-1.5 text-xs text-gray-500 italic",children:"This information needs to be verified by the user. Tax rates may vary by location and vehicle type."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trade-In"}),(0,a.jsxs)("select",{value:P,onChange:e=>F(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"none",children:"No Trade-In"}),(0,a.jsx)("option",{value:"maybe",children:"Maybe"}),(0,a.jsx)("option",{value:"yes",children:"Yes"})]})]}),"yes"===P&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trade-In Value"}),(0,a.jsx)("input",{type:"number",value:O,onChange:e=>E(e.target.value),placeholder:"e.g., 5000",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dealer Message (Optional)"}),(0,a.jsx)("textarea",{value:z,onChange:e=>J(e.target.value),placeholder:"Paste dealer message here...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:L,onChange:e=>Y(e.target.checked),className:"mr-2"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Include Financing Details"})]})}),L&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pre-Approval APR (%)"}),(0,a.jsx)("input",{type:"number",step:"0.01",value:B,onChange:e=>Z(e.target.value),placeholder:"4.5",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),L&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Monthly Payment"}),(0,a.jsx)("input",{type:"number",value:U,onChange:e=>V(e.target.value),placeholder:"500",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),K&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,a.jsx)("p",{className:"text-sm text-red-700",children:K})}),(0,a.jsx)(o.Z,{type:"submit",className:"w-full",disabled:G,children:G?"Generating...":"Generate Message"})]})]}),(0,a.jsxs)(i.Z,{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Your Message"}),!W&&!G&&(0,a.jsx)("div",{className:"text-center py-12 text-gray-500",children:(0,a.jsx)("p",{children:'Fill out the form and click "Generate Message" to get started'})}),G&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Generating your message..."})]}),W&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-xs text-gray-500 text-center pb-2 border-b border-gray-200",children:["Mode: ",W.effectiveMode||"free"," ",W.entitlementCheck&&"(".concat(W.entitlementCheck,")")]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Best Next Message"}),(0,a.jsx)(o.Z,{size:"sm",variant:"secondary",onClick:()=>es(W.bestNextMessage),children:"\uD83D\uDCCB Copy"})]}),(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-3",children:(0,a.jsx)("p",{className:"text-gray-800 whitespace-pre-wrap font-medium",children:W.bestNextMessage})}),W.whyThisWorks&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Why this works:"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:W.whyThisWorks})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 italic",children:"This is a high-level response. Paid packs unlock stage-specific scripts, add-on removal tactics, and dealer pressure handling."})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("button",{onClick:()=>$(!Q),className:"w-full text-left flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:"Alternate Messages"}),(0,a.jsx)("span",{children:Q?"−":"+"})]}),Q&&(0,a.jsxs)("div",{className:"mt-3 space-y-3",children:[W.alternate1&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"More Friendly"}),(0,a.jsx)(o.Z,{size:"sm",variant:"secondary",onClick:()=>es(W.alternate1),children:"\uD83D\uDCCB Copy"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:W.alternate1})]}),W.alternate2&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"More Firm"}),(0,a.jsx)(o.Z,{size:"sm",variant:"secondary",onClick:()=>es(W.alternate2),children:"\uD83D\uDCCB Copy"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:W.alternate2})]})]})]}),W.checklist&&W.checklist.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Before You Reply, Make Sure You Have:"}),(0,a.jsx)("ul",{className:"space-y-2 mb-2",children:W.checklist.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)("span",{className:"text-blue-600 mr-2",children:"✓"}),(0,a.jsx)("span",{className:"text-gray-700",children:e})]},t))}),(0,a.jsx)("p",{className:"text-xs text-gray-500 italic",children:"Paid packs include scripts to remove add-ons and challenge inflated fees."})]}),W.decisionTree&&W.decisionTree.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Common Dealer Replies"}),(0,a.jsx)("div",{className:"space-y-3",children:W.decisionTree.map((e,t)=>(0,a.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,a.jsxs)("p",{className:"font-medium text-gray-900 mb-2",children:['If they say: "',e.dealerReply,'"']}),(0,a.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-wrap mb-2",children:e.suggestedResponse}),e.isIncomplete&&(0,a.jsx)("p",{className:"text-xs text-gray-500 italic mt-2 pt-2 border-t border-yellow-300",children:"Paid packs include fee-by-fee pushback scripts for this exact situation."})]},t))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Assumptions Used"}),(0,a.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 space-y-2",children:[void 0!==W.assumptions.taxBaseRate&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"State base tax rate: "}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[W.assumptions.taxBaseRate,"%"]})]}),W.assumptions.feeAssumptions&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Typical dealer fees: "}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:W.assumptions.feeAssumptions})]}),(0,a.jsx)("div",{className:"pt-2 border-t border-gray-300",children:(0,a.jsx)("p",{className:"text-xs text-gray-600",children:W.assumptions.disclaimer})})]})]}),(0,a.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600 text-center",children:[(0,a.jsx)("span",{className:"font-medium",children:"Want more leverage?"}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"text-xs",children:"Paid packs unlock deeper scripts for add-ons, financing pressure, and in-person negotiations."})]})})]})]})]})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Please sign in to use this feature"}),(0,a.jsx)("a",{href:"/login",className:"text-blue-600 hover:text-blue-700",children:"Sign In"})]})})}},4226:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(7437);function r(e){let{variant:t="primary",size:s="md",className:r="",children:l,...n}=e;return(0,a.jsx)("button",{className:"".concat("font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500"}[t]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[s]," ").concat(r),...n,children:l})}s(2265)},9178:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(7437);function r(e){let{children:t,className:s=""}=e;return(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 ".concat(s),children:t})}s(2265)},6281:function(e,t,s){"use strict";s.d(t,{AuthProvider:function(){return o},a:function(){return c}});var a=s(7437),r=s(2265);let l=(0,s(9997).B)(),n=()=>{{let e="https://vabikejehdmpfcyqrgrs.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZhYmlrZWplaGRtcGZjeXFyZ3JzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NzAzNDAsImV4cCI6MjA4MTA0NjM0MH0.X_Z7szu62swGviqYgtI2mxV3F1vX4UBYpuZYV2n7h4Q";return!!(e&&t&&e.length>10&&t.length>10&&!e.includes("placeholder"))}},i=(0,r.createContext)(void 0);function o(e){let{children:t}=e,[s,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{if(!n()){console.warn("Supabase not configured. Running in unauthenticated mode."),o(null),d(!1);return}let e=!0,t=null;(async()=>{try{let{data:{session:s},error:a}=await l.auth.getSession();if(!e)return;if(a)console.error("[AuthContext] Error getting initial session:",a),o(null);else{var t;console.log("[AuthContext] Initial session:",s?"User: ".concat(s.user.email):"No session"),o(null!==(t=null==s?void 0:s.user)&&void 0!==t?t:null)}d(!1)}catch(t){if(!e)return;console.error("[AuthContext] Error initializing auth:",t),o(null),d(!1)}})();let{data:{subscription:s}}=l.auth.onAuthStateChange(async(t,s)=>{var a;e&&(console.log("[AuthContext] Auth state changed:",t,s?"User: ".concat(s.user.email):"No session"),o(null!==(a=null==s?void 0:s.user)&&void 0!==a?a:null),d(!1))});return t=s,()=>{e=!1,t&&t.unsubscribe()}},[]);let u=async()=>{n()&&await l.auth.signOut(),o(null)};return(0,a.jsx)(i.Provider,{value:{user:s,loading:c,signOut:u},children:t})}function c(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9997:function(e,t,s){"use strict";s.d(t,{B:function(){return n}});var a=s(4033);let r="https://vabikejehdmpfcyqrgrs.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZhYmlrZWplaGRtcGZjeXFyZ3JzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NzAzNDAsImV4cCI6MjA4MTA0NjM0MH0.X_Z7szu62swGviqYgtI2mxV3F1vX4UBYpuZYV2n7h4Q";if(!r||!l){let e=[];throw r||e.push("NEXT_PUBLIC_SUPABASE_URL"),l||e.push("NEXT_PUBLIC_SUPABASE_ANON_KEY"),Error("[CRITICAL] Missing required Supabase environment variables: ".concat(e.join(", "),". ")+"These must be set in Vercel environment variables and available at build time.")}if(r.includes("placeholder")||l.includes("placeholder")){let e=[];throw r.includes("placeholder")&&e.push("NEXT_PUBLIC_SUPABASE_URL"),l.includes("placeholder")&&e.push("NEXT_PUBLIC_SUPABASE_ANON_KEY"),Error("[CRITICAL] Supabase environment variables contain placeholder values. Please set real values in Vercel environment variables. "+"Found placeholder in: ".concat(e.join(" and ")))}if(r.length<10||l.length<10)throw Error("[CRITICAL] Supabase environment variables appear to be invalid (too short). Please verify they are set correctly in Vercel.");function n(){return(0,a.createBrowserClient)(r,l)}},911:function(e,t,s){"use strict";s.d(t,{R4:function(){return r},X6:function(){return a},pt:function(){return l}});let a={AL:2,AK:0,AZ:5.6,AR:6.5,CA:7.25,CO:2.9,CT:6.35,DE:0,FL:6,GA:4,HI:4.17,ID:6,IL:6.25,IN:7,IA:6,KS:6.5,KY:6,LA:4.45,ME:5.5,MD:6,MA:6.25,MI:6,MN:6.875,MS:5,MO:4.225,MT:0,NE:5.5,NV:6.85,NH:0,NJ:6.625,NM:5.125,NY:4,NC:4.75,ND:5,OH:5.75,OK:4.5,OR:0,PA:6,RI:7,SC:6,SD:4.5,TN:7,TX:6.25,UT:4.85,VT:6,VA:4.3,WA:6.5,WV:6,WI:5,WY:4,DC:6};function r(e){var t;return null!==(t=a[e.toUpperCase().trim()])&&void 0!==t?t:null}function l(e){return({AL:"Alabama",AK:"Alaska",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",FL:"Florida",GA:"Georgia",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming",DC:"District of Columbia"})[e.toUpperCase()]||e}},9376:function(e,t,s){"use strict";var a=s(5475);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[33,971,117,744],function(){return e(e.s=6059)}),_N_E=e.O()}]);