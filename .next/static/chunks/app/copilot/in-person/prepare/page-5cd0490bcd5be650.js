(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[820],{9171:function(e,s,t){Promise.resolve().then(t.bind(t,64))},64:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return x}});var a=t(7437),r=t(29),n=t.n(r),i=t(2265),l=t(9376),c=t(6281),o=t(8976),d=t(9178),f=t(4226);function x(){let{user:e,loading:s}=(0,c.a)(),t=(0,l.useRouter)(),{loading:r,hasInPerson:x}=(0,o.m)();(0,i.useEffect)(()=>{s||r||x||t.push("/copilot/free")},[s,r,x,t]);let[h,m]=(0,i.useState)(1),[u,b]=(0,i.useState)([]),[j,p]=(0,i.useState)(""),[g,y]=(0,i.useState)(""),[N,v]=(0,i.useState)(""),[S,_]=(0,i.useState)(""),[w,k]=(0,i.useState)(0),[C,T]=(0,i.useState)(0),[I,A]=(0,i.useState)(0);(0,i.useEffect)(()=>{{let e=localStorage.getItem("copilot_in_person_prepare_state");if(e)try{let s=JSON.parse(e);m(s.step||1),b(s.completedSteps||[]),s.vehiclePrice&&p(s.vehiclePrice),s.targetOTD&&y(s.targetOTD),s.walkAwayOTD&&v(s.walkAwayOTD),s.state&&_(s.state),s.ladderAsk&&k(s.ladderAsk),s.ladderAgree&&T(s.ladderAgree),s.ladderWalk&&A(s.ladderWalk)}catch(e){console.error("Failed to parse saved state:",e)}}},[]),(0,i.useEffect)(()=>{localStorage.setItem("copilot_in_person_prepare_state",JSON.stringify({step:h,completedSteps:u,vehiclePrice:j,targetOTD:g,walkAwayOTD:N,state:S,ladderAsk:w,ladderAgree:C,ladderWalk:I}))},[h,u,j,g,N,S,w,C,I]),(0,i.useEffect)(()=>{let e=parseFloat(g);!isNaN(e)&&e>0&&(T(e),k(e+500),A(parseFloat(N)||e+1e3))},[g,N]);let R=e=>{u.includes(e)||b([...u,e])},F=e=>{b(u.filter(s=>s!==e))},D=()=>{h<6&&m(h+1)},O=()=>{h>1&&m(h-1)};if(s||r)return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600 mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})});if(!e)return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Please sign in to use this feature"}),(0,a.jsx)("a",{href:"/login",className:"text-blue-600 hover:text-blue-700",children:"Sign In"})]})});if(!x)return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"In-Person Negotiation Pack required"}),(0,a.jsx)("a",{href:"/packs",className:"text-blue-600 hover:text-blue-700",children:"View Packs"})]})});let E=parseFloat(g)||0,P=E>0&&2===S.trim().length;return(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 min-h-screen bg-gray-50",children:[(0,a.jsx)(n(),{id:"afbe495047f38145",children:"@media print{.no-print{display:none!important}.print-break{page-break-after:always}}"}),(0,a.jsx)("div",{className:"jsx-afbe495047f38145 bg-white border-b border-gray-200 no-print",children:(0,a.jsx)("div",{className:"jsx-afbe495047f38145 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:(0,a.jsx)("button",{onClick:()=>t.push("/copilot/in-person"),className:"jsx-afbe495047f38145 text-sm text-gray-600 hover:text-gray-900 flex items-center gap-2",children:"← Back to Mode Picker"})})}),(0,a.jsx)("div",{className:"jsx-afbe495047f38145 bg-white border-b border-gray-200 mb-6",children:(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 flex items-center justify-between mb-4",children:[(0,a.jsx)("h1",{className:"jsx-afbe495047f38145 text-2xl font-bold text-gray-900",children:"Prepare Me"}),(0,a.jsx)(f.Z,{onClick:()=>{window.print()},variant:"secondary",size:"sm",className:"no-print",children:"\uD83D\uDCC4 Print / Save Checklist"})]}),(0,a.jsx)("div",{className:"jsx-afbe495047f38145 flex items-center gap-2 overflow-x-auto pb-2",children:[1,2,3,4,5,6].map(e=>{let s=h===e,t=u.includes(e);return(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 flex items-center flex-shrink-0",children:[(0,a.jsxs)("button",{onClick:()=>m(e),className:"jsx-afbe495047f38145 "+"\n                      flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors\n                      ".concat(s?"bg-orange-600 text-white":t?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600","\n                      cursor-pointer hover:opacity-80\n                    "),children:[(0,a.jsx)("span",{className:"jsx-afbe495047f38145 "+"\n                      w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold\n                      ".concat(s?"bg-white text-orange-600":t?"bg-green-600 text-white":"bg-gray-300 text-gray-600","\n                    "),children:t?"✓":e}),(0,a.jsxs)("span",{className:"jsx-afbe495047f38145 hidden sm:inline",children:["Step ",e]})]}),e<6&&(0,a.jsx)("div",{className:"jsx-afbe495047f38145 "+"\n                      w-8 h-0.5 mx-1\n                      ".concat(t?"bg-green-600":"bg-gray-300","\n                    ")})]},e)})})]})}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[1===h&&(0,a.jsxs)(d.Z,{children:[(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"jsx-afbe495047f38145 text-xl font-bold text-gray-900",children:"Step 1: Set Your Numbers"}),(0,a.jsxs)("label",{className:"jsx-afbe495047f38145 flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:u.includes(1),onChange:e=>{e.target.checked?R(1):F(1)},className:"jsx-afbe495047f38145 w-5 h-5 text-orange-600 rounded focus:ring-orange-500"}),(0,a.jsx)("span",{className:"jsx-afbe495047f38145 text-sm font-medium text-gray-700",children:"Done"})]})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 space-y-4 mb-6",children:[(0,a.jsxs)("div",{className:"jsx-afbe495047f38145",children:[(0,a.jsx)("label",{className:"jsx-afbe495047f38145 block text-sm font-medium text-gray-700 mb-1",children:"Vehicle Price (optional)"}),(0,a.jsx)("input",{type:"number",value:j,onChange:e=>p(e.target.value),placeholder:"Enter vehicle price if known",className:"jsx-afbe495047f38145 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145",children:[(0,a.jsx)("label",{className:"jsx-afbe495047f38145 block text-sm font-medium text-gray-700 mb-1",children:"Your Target OTD *"}),(0,a.jsx)("input",{type:"number",value:g,onChange:e=>y(e.target.value),placeholder:"Enter target OTD",className:"jsx-afbe495047f38145 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145",children:[(0,a.jsx)("label",{className:"jsx-afbe495047f38145 block text-sm font-medium text-gray-700 mb-1",children:"Walk-Away Ceiling (optional)"}),(0,a.jsx)("input",{type:"number",value:N,onChange:e=>v(e.target.value),placeholder:E>0?"Default: $".concat(E+1e3):"Enter if you have a hard limit",className:"jsx-afbe495047f38145 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),(0,a.jsx)("p",{className:"jsx-afbe495047f38145 text-xs text-gray-500 mt-1",children:"If dealer goes above this, you walk away"})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145",children:[(0,a.jsx)("label",{className:"jsx-afbe495047f38145 block text-sm font-medium text-gray-700 mb-1",children:"State *"}),(0,a.jsx)("input",{type:"text",value:S,onChange:e=>_(e.target.value.toUpperCase()),placeholder:"State code (e.g., CA)",maxLength:2,className:"jsx-afbe495047f38145 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]}),E>0&&(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 p-4 bg-blue-50 border border-blue-200 rounded-lg mb-6",children:[(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-gray-700 mb-3",children:"Your Negotiation Ladder"}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 space-y-2",children:[(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"jsx-afbe495047f38145 text-gray-600",children:"ASK:"}),(0,a.jsxs)("span",{className:"jsx-afbe495047f38145 font-medium",children:["$",(E+500).toLocaleString()]})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"jsx-afbe495047f38145 text-gray-600",children:"AGREE:"}),(0,a.jsxs)("span",{className:"jsx-afbe495047f38145 font-medium text-green-600",children:["$",E.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"jsx-afbe495047f38145 text-gray-600",children:"WALK:"}),(0,a.jsxs)("span",{className:"jsx-afbe495047f38145 font-medium text-red-600",children:["$",(parseFloat(N)||E+1e3).toLocaleString()]})]})]}),!N&&(0,a.jsx)("p",{className:"jsx-afbe495047f38145 text-xs text-blue-600 mt-2 italic",children:"\uD83D\uDCA1 Tip: Set a walk-away ceiling to protect yourself from overspending."})]}),(0,a.jsx)("div",{className:"jsx-afbe495047f38145 flex gap-3",children:(0,a.jsx)(f.Z,{onClick:D,disabled:!P,className:"flex-1",children:"Next: Your First Ask"})})]}),2===h&&(0,a.jsxs)(d.Z,{children:[(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"jsx-afbe495047f38145 text-xl font-bold text-gray-900",children:"Step 2: Your First Ask"}),(0,a.jsxs)("label",{className:"jsx-afbe495047f38145 flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:u.includes(2),onChange:e=>{e.target.checked?R(2):F(2)},className:"jsx-afbe495047f38145 w-5 h-5 text-orange-600 rounded focus:ring-orange-500"}),(0,a.jsx)("span",{className:"jsx-afbe495047f38145 text-sm font-medium text-gray-700",children:"Done"})]})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 space-y-4 mb-6",children:[(0,a.jsxs)("div",{className:"jsx-afbe495047f38145",children:[(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-gray-700 mb-2",children:"Purpose"}),(0,a.jsxs)("ul",{className:"jsx-afbe495047f38145 list-disc list-inside text-sm text-gray-700 space-y-1",children:[(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"Get the full out-the-door breakdown in writing before any negotiation"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"See all fees, taxes, and add-ons on one sheet"})]})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145",children:[(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-gray-700 mb-2",children:"What to Do"}),(0,a.jsxs)("ul",{className:"jsx-afbe495047f38145 list-disc list-inside text-sm text-gray-700 space-y-1",children:[(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"Ask for the buyer's order / OTD worksheet printed or emailed"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"Request it includes: sale price, taxes, doc fee, title/registration, every add-on"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"Don't discuss numbers until you have it in writing"})]})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 p-4 bg-orange-50 border-2 border-orange-300 rounded-lg",children:[(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-gray-700 mb-2",children:"Say This:"}),(0,a.jsx)("p",{className:"jsx-afbe495047f38145 text-base font-bold text-gray-900",children:'"Can you print the buyer\'s order / OTD worksheet with sale price, taxes, doc fee, title/registration, and every add-on? I want the full out-the-door number on one sheet."'})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145",children:[(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-gray-700 mb-2",children:"Common Dealer Move"}),(0,a.jsx)("p",{className:"jsx-afbe495047f38145 text-sm text-gray-700 mb-2",children:'"Come in to discuss numbers" or "Let\'s talk monthly payment first"'}),(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-gray-700 mb-2",children:"What You Do"}),(0,a.jsx)("p",{className:"jsx-afbe495047f38145 text-sm text-gray-700",children:'"I need the written OTD breakdown first. Can you email it to me?"'})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-red-900 mb-2",children:"Red Flags"}),(0,a.jsxs)("ul",{className:"jsx-afbe495047f38145 list-disc list-inside text-sm text-red-800 space-y-1",children:[(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"They refuse to give written OTD"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"They push monthly payment talk before OTD"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:'They say "come in and we\'ll work it out"'})]})]})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 flex gap-3",children:[(0,a.jsx)(f.Z,{onClick:O,variant:"secondary",className:"flex-1",children:"Back"}),(0,a.jsx)(f.Z,{onClick:D,className:"flex-1",children:"Next: Fees & Add-ons"})]})]}),3===h&&(0,a.jsxs)(d.Z,{children:[(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"jsx-afbe495047f38145 text-xl font-bold text-gray-900",children:"Step 3: Fees & Add-ons"}),(0,a.jsxs)("label",{className:"jsx-afbe495047f38145 flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:u.includes(3),onChange:e=>{e.target.checked?R(3):F(3)},className:"jsx-afbe495047f38145 w-5 h-5 text-orange-600 rounded focus:ring-orange-500"}),(0,a.jsx)("span",{className:"jsx-afbe495047f38145 text-sm font-medium text-gray-700",children:"Done"})]})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 space-y-4 mb-6",children:[(0,a.jsxs)("div",{className:"jsx-afbe495047f38145",children:[(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-gray-700 mb-2",children:"Purpose"}),(0,a.jsxs)("ul",{className:"jsx-afbe495047f38145 list-disc list-inside text-sm text-gray-700 space-y-1",children:[(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"Challenge unnecessary fees and add-ons"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"Keep focus on total OTD, not individual line items"})]})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145",children:[(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-gray-700 mb-2",children:"What to Do"}),(0,a.jsxs)("ul",{className:"jsx-afbe495047f38145 list-disc list-inside text-sm text-gray-700 space-y-1",children:[(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"Review the OTD breakdown for add-ons (warranty, protection, etc.)"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"Ask which are removable"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:'If they say "mandatory", ask to reduce sale price to hit your target OTD'})]})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 p-4 bg-orange-50 border-2 border-orange-300 rounded-lg",children:[(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-gray-700 mb-2",children:"Say This:"}),(0,a.jsxs)("p",{className:"jsx-afbe495047f38145 text-base font-bold text-gray-900",children:["\"Which add-ons are removable? If they're mandatory, let's adjust the sale price to hit my target OTD of $",E>0?E.toLocaleString():"X",'."']})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145",children:[(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-gray-700 mb-2",children:"Common Dealer Move"}),(0,a.jsx)("p",{className:"jsx-afbe495047f38145 text-sm text-gray-700 mb-2",children:'"These add-ons are mandatory" or "Everyone pays these fees"'}),(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-gray-700 mb-2",children:"What You Do"}),(0,a.jsx)("p",{className:"jsx-afbe495047f38145 text-sm text-gray-700",children:'"If they\'re fixed, reduce the sale price to keep OTD at my target."'})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-red-900 mb-2",children:"Red Flags"}),(0,a.jsxs)("ul",{className:"jsx-afbe495047f38145 list-disc list-inside text-sm text-red-800 space-y-1",children:[(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"They won't show which add-ons are removable"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"They add fees after you agree to a price"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:'They say "everyone pays this" without explanation'})]})]})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 flex gap-3",children:[(0,a.jsx)(f.Z,{onClick:O,variant:"secondary",className:"flex-1",children:"Back"}),(0,a.jsx)(f.Z,{onClick:D,className:"flex-1",children:"Next: Monthly Payment Trap"})]})]}),4===h&&(0,a.jsxs)(d.Z,{children:[(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"jsx-afbe495047f38145 text-xl font-bold text-gray-900",children:"Step 4: Monthly Payment Trap"}),(0,a.jsxs)("label",{className:"jsx-afbe495047f38145 flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:u.includes(4),onChange:e=>{e.target.checked?R(4):F(4)},className:"jsx-afbe495047f38145 w-5 h-5 text-orange-600 rounded focus:ring-orange-500"}),(0,a.jsx)("span",{className:"jsx-afbe495047f38145 text-sm font-medium text-gray-700",children:"Done"})]})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 space-y-4 mb-6",children:[(0,a.jsxs)("div",{className:"jsx-afbe495047f38145",children:[(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-gray-700 mb-2",children:"Purpose"}),(0,a.jsxs)("ul",{className:"jsx-afbe495047f38145 list-disc list-inside text-sm text-gray-700 space-y-1",children:[(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"Avoid the monthly payment trap that hides total cost"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"Keep focus on OTD until it's locked"})]})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145",children:[(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-gray-700 mb-2",children:"What to Do"}),(0,a.jsxs)("ul",{className:"jsx-afbe495047f38145 list-disc list-inside text-sm text-gray-700 space-y-1",children:[(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"Refuse to discuss monthly payments until OTD is agreed"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"Redirect every payment question back to OTD"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"Don't let them stretch the loan term to lower monthly"})]})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 p-4 bg-orange-50 border-2 border-orange-300 rounded-lg",children:[(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-gray-700 mb-2",children:"Say This:"}),(0,a.jsx)("p",{className:"jsx-afbe495047f38145 text-base font-bold text-gray-900",children:"\"I'm not discussing monthly payments yet. What's the out-the-door price?\""})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145",children:[(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-gray-700 mb-2",children:"Common Dealer Move"}),(0,a.jsx)("p",{className:"jsx-afbe495047f38145 text-sm text-gray-700 mb-2",children:'"What monthly payment are you comfortable with?"'}),(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-gray-700 mb-2",children:"What You Do"}),(0,a.jsx)("p",{className:"jsx-afbe495047f38145 text-sm text-gray-700",children:'"I\'m focused on total OTD. Once we agree on that, we can talk financing."'})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 p-3 bg-red-50 border-red-200 rounded-lg",children:[(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-red-900 mb-2",children:"Red Flags"}),(0,a.jsxs)("ul",{className:"jsx-afbe495047f38145 list-disc list-inside text-sm text-red-800 space-y-1",children:[(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"They keep pushing monthly payment talk"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"They stretch loan term to make payment seem lower"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"They won't give OTD until you discuss payments"})]})]})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 flex gap-3",children:[(0,a.jsx)(f.Z,{onClick:O,variant:"secondary",className:"flex-1",children:"Back"}),(0,a.jsx)(f.Z,{onClick:D,className:"flex-1",children:"Next: Manager + Urgency"})]})]}),5===h&&(0,a.jsxs)(d.Z,{children:[(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"jsx-afbe495047f38145 text-xl font-bold text-gray-900",children:"Step 5: Manager + Urgency Tactics"}),(0,a.jsxs)("label",{className:"jsx-afbe495047f38145 flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:u.includes(5),onChange:e=>{e.target.checked?R(5):F(5)},className:"jsx-afbe495047f38145 w-5 h-5 text-orange-600 rounded focus:ring-orange-500"}),(0,a.jsx)("span",{className:"jsx-afbe495047f38145 text-sm font-medium text-gray-700",children:"Done"})]})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 space-y-4 mb-6",children:[(0,a.jsxs)("div",{className:"jsx-afbe495047f38145",children:[(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-gray-700 mb-2",children:"Purpose"}),(0,a.jsxs)("ul",{className:"jsx-afbe495047f38145 list-disc list-inside text-sm text-gray-700 space-y-1",children:[(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"Handle pressure tactics without weakening your position"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"Stay calm and repeat your number"})]})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145",children:[(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-gray-700 mb-2",children:"What to Do"}),(0,a.jsxs)("ul",{className:"jsx-afbe495047f38145 list-disc list-inside text-sm text-gray-700 space-y-1",children:[(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"When manager joins, repeat your target OTD clearly"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"Use silence - don't fill the air with explanations"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:'If they create urgency ("someone else is interested"), stay firm'})]})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 p-4 bg-orange-50 border-2 border-orange-300 rounded-lg",children:[(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-gray-700 mb-2",children:"Say This:"}),(0,a.jsxs)("p",{className:"jsx-afbe495047f38145 text-base font-bold text-gray-900",children:['"If you can do $',E>0?"$".concat(E.toLocaleString()):"$X"," OTD, I'm ready to move forward now.\""]})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145",children:[(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-gray-700 mb-2",children:"Common Dealer Move"}),(0,a.jsx)("p",{className:"jsx-afbe495047f38145 text-sm text-gray-700 mb-2",children:'"Let me get my manager" or "Someone else is looking at this car"'}),(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-gray-700 mb-2",children:"What You Do"}),(0,a.jsx)("p",{className:"jsx-afbe495047f38145 text-sm text-gray-700",children:"Repeat your target OTD. Stay silent. Don't explain or justify."})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-red-900 mb-2",children:"Red Flags"}),(0,a.jsxs)("ul",{className:"jsx-afbe495047f38145 list-disc list-inside text-sm text-red-800 space-y-1",children:[(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"They create fake urgency to pressure you"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"Manager \"can't go lower\" but won't show you why"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"They ask you to sign before showing final OTD"})]})]})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 flex gap-3",children:[(0,a.jsx)(f.Z,{onClick:O,variant:"secondary",className:"flex-1",children:"Back"}),(0,a.jsx)(f.Z,{onClick:D,className:"flex-1",children:"Next: Switch to Live Coach"})]})]}),6===h&&(0,a.jsxs)(d.Z,{children:[(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"jsx-afbe495047f38145 text-xl font-bold text-gray-900",children:"Step 6: When to Switch to Live Coach"}),(0,a.jsxs)("label",{className:"jsx-afbe495047f38145 flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:u.includes(6),onChange:e=>{e.target.checked?R(6):F(6)},className:"jsx-afbe495047f38145 w-5 h-5 text-orange-600 rounded focus:ring-orange-500"}),(0,a.jsx)("span",{className:"jsx-afbe495047f38145 text-sm font-medium text-gray-700",children:"Done"})]})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 space-y-4 mb-6",children:[(0,a.jsxs)("div",{className:"jsx-afbe495047f38145",children:[(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-gray-700 mb-2",children:"Purpose"}),(0,a.jsxs)("ul",{className:"jsx-afbe495047f38145 list-disc list-inside text-sm text-gray-700 space-y-1",children:[(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"Know when to switch from preparation to real-time coaching"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"Get situation-specific guidance during active negotiation"})]})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145",children:[(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-gray-700 mb-2",children:"Switch to Live Coach If:"}),(0,a.jsxs)("ul",{className:"jsx-afbe495047f38145 list-disc list-inside text-sm text-gray-700 space-y-2",children:[(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"They give you a counter offer"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"They add fees or add-ons you didn't expect"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"Manager joins and tactics escalate"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"They pressure you to sign today"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"Trade-in offer seems low"})]})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 p-4 bg-blue-50 border-2 border-blue-300 rounded-lg",children:[(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-sm font-semibold text-gray-700 mb-2",children:"Live Coach Will:"}),(0,a.jsxs)("ul",{className:"jsx-afbe495047f38145 list-disc list-inside text-sm text-gray-700 space-y-1",children:[(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"Give you exact talk tracks for the current situation"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"Help you update deal state as negotiation progresses"}),(0,a.jsx)("li",{className:"jsx-afbe495047f38145",children:"Provide real-time guidance based on dealer's moves"})]})]}),(0,a.jsxs)("div",{className:"jsx-afbe495047f38145 p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,a.jsx)(f.Z,{onClick:()=>{{let e={step:0,vehiclePrice:parseFloat(j)||0,targetOTD:parseFloat(g)||0,walkAwayOTD:parseFloat(N)||parseFloat(g)+1e3||0,stateCode:S,ladder:{ask:w||parseFloat(g)+500||0,agree:C||parseFloat(g)||0,walk:I||parseFloat(N)||parseFloat(g)+1e3||0,locked:!0}};localStorage.setItem("copilot_in_person_live_state",JSON.stringify(e))}t.push("/copilot/in-person/live")},className:"w-full",variant:"primary",children:"Open Live Coach"}),(0,a.jsx)("p",{className:"jsx-afbe495047f38145 text-xs text-gray-600 mt-2 text-center",children:"Your numbers from Step 1 will be pre-filled"})]})]}),(0,a.jsx)("div",{className:"jsx-afbe495047f38145 flex gap-3",children:(0,a.jsx)(f.Z,{onClick:O,variant:"secondary",className:"flex-1",children:"Back"})})]}),(0,a.jsxs)(d.Z,{className:"mt-8",children:[(0,a.jsx)("h3",{className:"jsx-afbe495047f38145 text-lg font-bold text-gray-900 mb-4",children:"Rules of the Room"}),(0,a.jsxs)("ul",{className:"jsx-afbe495047f38145 space-y-2",children:[(0,a.jsxs)("li",{className:"jsx-afbe495047f38145 flex items-start text-sm text-gray-700",children:[(0,a.jsx)("span",{className:"jsx-afbe495047f38145 text-orange-600 font-bold mr-2",children:"1."}),(0,a.jsx)("span",{className:"jsx-afbe495047f38145",children:"OTD is the only number that matters. Everything else is noise."})]}),(0,a.jsxs)("li",{className:"jsx-afbe495047f38145 flex items-start text-sm text-gray-700",children:[(0,a.jsx)("span",{className:"jsx-afbe495047f38145 text-orange-600 font-bold mr-2",children:"2."}),(0,a.jsx)("span",{className:"jsx-afbe495047f38145",children:"Get everything in writing before you agree to anything."})]}),(0,a.jsxs)("li",{className:"jsx-afbe495047f38145 flex items-start text-sm text-gray-700",children:[(0,a.jsx)("span",{className:"jsx-afbe495047f38145 text-orange-600 font-bold mr-2",children:"3."}),(0,a.jsx)("span",{className:"jsx-afbe495047f38145",children:"Silence is powerful. Repeat your number and wait."})]}),(0,a.jsxs)("li",{className:"jsx-afbe495047f38145 flex items-start text-sm text-gray-700",children:[(0,a.jsx)("span",{className:"jsx-afbe495047f38145 text-orange-600 font-bold mr-2",children:"4."}),(0,a.jsx)("span",{className:"jsx-afbe495047f38145",children:"If they won't give written OTD, walk away."})]}),(0,a.jsxs)("li",{className:"jsx-afbe495047f38145 flex items-start text-sm text-gray-700",children:[(0,a.jsx)("span",{className:"jsx-afbe495047f38145 text-orange-600 font-bold mr-2",children:"5."}),(0,a.jsx)("span",{className:"jsx-afbe495047f38145",children:"You can always walk. There are other cars and other dealers."})]})]})]})]})]})}},4226:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(7437);function r(e){let{variant:s="primary",size:t="md",className:r="",children:n,...i}=e;return(0,a.jsx)("button",{className:"".concat("font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500"}[s]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[t]," ").concat(r),...i,children:n})}t(2265)},9178:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(7437);function r(e){let{children:s,className:t=""}=e;return(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 ".concat(t),children:s})}t(2265)},6281:function(e,s,t){"use strict";t.d(s,{AuthProvider:function(){return c},a:function(){return o}});var a=t(7437),r=t(2265);let n=(0,t(9997).B)(),i=()=>{{let e="https://vabikejehdmpfcyqrgrs.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZhYmlrZWplaGRtcGZjeXFyZ3JzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NzAzNDAsImV4cCI6MjA4MTA0NjM0MH0.X_Z7szu62swGviqYgtI2mxV3F1vX4UBYpuZYV2n7h4Q";return!!(e&&s&&e.length>10&&s.length>10&&!e.includes("placeholder"))}},l=(0,r.createContext)(void 0);function c(e){let{children:s}=e,[t,c]=(0,r.useState)(null),[o,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{if(!i()){console.warn("Supabase not configured. Running in unauthenticated mode."),c(null),d(!1);return}let e=!0,s=null;(async()=>{try{let{data:{session:t},error:a}=await n.auth.getSession();if(!e)return;if(a)console.error("[AuthContext] Error getting initial session:",a),c(null);else{var s;console.log("[AuthContext] Initial session:",t?"User: ".concat(t.user.email):"No session"),c(null!==(s=null==t?void 0:t.user)&&void 0!==s?s:null)}d(!1)}catch(s){if(!e)return;console.error("[AuthContext] Error initializing auth:",s),c(null),d(!1)}})();let{data:{subscription:t}}=n.auth.onAuthStateChange(async(s,t)=>{var a;e&&(console.log("[AuthContext] Auth state changed:",s,t?"User: ".concat(t.user.email):"No session"),c(null!==(a=null==t?void 0:t.user)&&void 0!==a?a:null),d(!1))});return s=t,()=>{e=!1,s&&s.unsubscribe()}},[]);let f=async()=>{i()&&await n.auth.signOut(),c(null)};return(0,a.jsx)(l.Provider,{value:{user:t,loading:o,signOut:f},children:s})}function o(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},8976:function(e,s,t){"use strict";t.d(s,{m:function(){return n}});var a=t(2265);let r=(0,t(9997).B)();function n(){let[e,s]=(0,a.useState)(!0),[t,n]=(0,a.useState)({first_time:!1,in_person:!1,bundle:!1}),i=(0,a.useCallback)(async()=>{try{s(!0);let{data:{user:e}}=await r.auth.getUser();if(!e){n({first_time:!1,in_person:!1,bundle:!1}),s(!1);return}let{data:t,error:a}=await r.from("user_entitlements").select("first_time, in_person, bundle").eq("user_id",e.id).single();a?"PGRST116"===a.code?n({first_time:!1,in_person:!1,bundle:!1}):console.error("[useEntitlements] Error fetching entitlements:",a):n({first_time:(null==t?void 0:t.first_time)||!1,in_person:(null==t?void 0:t.in_person)||!1,bundle:(null==t?void 0:t.bundle)||!1})}catch(e){console.error("[useEntitlements] Error:",e)}finally{s(!1)}},[]);(0,a.useEffect)(()=>{i();let{data:{subscription:e}}=r.auth.onAuthStateChange(()=>{i()});return()=>{e.unsubscribe()}},[i]);let l=t.first_time||t.bundle,c=t.in_person||t.bundle,o=t.bundle;return{loading:e,entitlements:t,hasFirstTime:l,hasInPerson:c,hasBundle:o,refreshEntitlements:i}}},9997:function(e,s,t){"use strict";t.d(s,{B:function(){return i}});var a=t(4033);let r="https://vabikejehdmpfcyqrgrs.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZhYmlrZWplaGRtcGZjeXFyZ3JzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NzAzNDAsImV4cCI6MjA4MTA0NjM0MH0.X_Z7szu62swGviqYgtI2mxV3F1vX4UBYpuZYV2n7h4Q";if(!r||!n){let e=[];throw r||e.push("NEXT_PUBLIC_SUPABASE_URL"),n||e.push("NEXT_PUBLIC_SUPABASE_ANON_KEY"),Error("[CRITICAL] Missing required Supabase environment variables: ".concat(e.join(", "),". ")+"These must be set in Vercel environment variables and available at build time.")}if(r.includes("placeholder")||n.includes("placeholder")){let e=[];throw r.includes("placeholder")&&e.push("NEXT_PUBLIC_SUPABASE_URL"),n.includes("placeholder")&&e.push("NEXT_PUBLIC_SUPABASE_ANON_KEY"),Error("[CRITICAL] Supabase environment variables contain placeholder values. Please set real values in Vercel environment variables. "+"Found placeholder in: ".concat(e.join(" and ")))}if(r.length<10||n.length<10)throw Error("[CRITICAL] Supabase environment variables appear to be invalid (too short). Please verify they are set correctly in Vercel.");function i(){return(0,a.createBrowserClient)(r,n)}},9376:function(e,s,t){"use strict";var a=t(5475);t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},4601:function(){},8975:function(e,s,t){"use strict";var a=t(257);t(4601);var r=t(2265),n=r&&"object"==typeof r&&"default"in r?r:{default:r},i=void 0!==a&&a.env&&!0,l=function(e){return"[object String]"===Object.prototype.toString.call(e)},c=function(){function e(e){var s=void 0===e?{}:e,t=s.name,a=void 0===t?"stylesheet":t,r=s.optimizeForSpeed,n=void 0===r?i:r;o(l(a),"`name` must be a string"),this._name=a,this._deletedRulePlaceholder="#"+a+"-deleted-rule____{}",o("boolean"==typeof n,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=n,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var c="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=c?c.getAttribute("content"):null}var s=e.prototype;return s.setOptimizeForSpeed=function(e){o("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),o(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},s.isOptimizeForSpeed=function(){return this._optimizeForSpeed},s.inject=function(){var e=this;if(o(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(i||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(s,t){return"number"==typeof t?e._serverSheet.cssRules[t]={cssText:s}:e._serverSheet.cssRules.push({cssText:s}),t},deleteRule:function(s){e._serverSheet.cssRules[s]=null}}},s.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===e)return document.styleSheets[s]},s.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},s.insertRule=function(e,s){if(o(l(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof s&&(s=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,s),this._rulesCount++;if(this._optimizeForSpeed){var t=this.getSheet();"number"!=typeof s&&(s=t.cssRules.length);try{t.insertRule(e,s)}catch(s){return i||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var a=this._tags[s];this._tags.push(this.makeStyleTag(this._name,e,a))}return this._rulesCount++},s.replaceRule=function(e,s){if(this._optimizeForSpeed||"undefined"==typeof window){var t="undefined"!=typeof window?this.getSheet():this._serverSheet;if(s.trim()||(s=this._deletedRulePlaceholder),!t.cssRules[e])return e;t.deleteRule(e);try{t.insertRule(s,e)}catch(a){i||console.warn("StyleSheet: illegal rule: \n\n"+s+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),t.insertRule(this._deletedRulePlaceholder,e)}}else{var a=this._tags[e];o(a,"old rule at index `"+e+"` not found"),a.textContent=s}return e},s.deleteRule=function(e){if("undefined"==typeof window){this._serverSheet.deleteRule(e);return}if(this._optimizeForSpeed)this.replaceRule(e,"");else{var s=this._tags[e];o(s,"rule at index `"+e+"` not found"),s.parentNode.removeChild(s),this._tags[e]=null}},s.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},s.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(s,t){return t?s=s.concat(Array.prototype.map.call(e.getSheetForTag(t).cssRules,function(s){return s.cssText===e._deletedRulePlaceholder?null:s})):s.push(null),s},[])},s.makeStyleTag=function(e,s,t){s&&o(l(s),"makeStyleTag accepts only strings as second parameter");var a=document.createElement("style");this._nonce&&a.setAttribute("nonce",this._nonce),a.type="text/css",a.setAttribute("data-"+e,""),s&&a.appendChild(document.createTextNode(s));var r=document.head||document.getElementsByTagName("head")[0];return t?r.insertBefore(a,t):r.appendChild(a),a},function(e,s){for(var t=0;t<s.length;t++){var a=s[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),e}();function o(e,s){if(!e)throw Error("StyleSheet: "+s+".")}var d=function(e){for(var s=5381,t=e.length;t;)s=33*s^e.charCodeAt(--t);return s>>>0},f={};function x(e,s){if(!s)return"jsx-"+e;var t=String(s),a=e+t;return f[a]||(f[a]="jsx-"+d(e+"-"+t)),f[a]}function h(e,s){"undefined"==typeof window&&(s=s.replace(/\/style/gi,"\\/style"));var t=e+s;return f[t]||(f[t]=s.replace(/__jsx-style-dynamic-selector/g,e)),f[t]}var m=function(){function e(e){var s=void 0===e?{}:e,t=s.styleSheet,a=void 0===t?null:t,r=s.optimizeForSpeed,n=void 0!==r&&r;this._sheet=a||new c({name:"styled-jsx",optimizeForSpeed:n}),this._sheet.inject(),a&&"boolean"==typeof n&&(this._sheet.setOptimizeForSpeed(n),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var s=e.prototype;return s.add=function(e){var s=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,s){return e[s]=0,e},{}));var t=this.getIdAndRules(e),a=t.styleId,r=t.rules;if(a in this._instancesCounts){this._instancesCounts[a]+=1;return}var n=r.map(function(e){return s._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[a]=n,this._instancesCounts[a]=1},s.remove=function(e){var s=this,t=this.getIdAndRules(e).styleId;if(function(e,s){if(!e)throw Error("StyleSheetRegistry: "+s+".")}(t in this._instancesCounts,"styleId: `"+t+"` not found"),this._instancesCounts[t]-=1,this._instancesCounts[t]<1){var a=this._fromServer&&this._fromServer[t];a?(a.parentNode.removeChild(a),delete this._fromServer[t]):(this._indices[t].forEach(function(e){return s._sheet.deleteRule(e)}),delete this._indices[t]),delete this._instancesCounts[t]}},s.update=function(e,s){this.add(s),this.remove(e)},s.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},s.cssRules=function(){var e=this,s=this._fromServer?Object.keys(this._fromServer).map(function(s){return[s,e._fromServer[s]]}):[],t=this._sheet.cssRules();return s.concat(Object.keys(this._indices).map(function(s){return[s,e._indices[s].map(function(e){return t[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},s.styles=function(e){var s,t;return s=this.cssRules(),void 0===(t=e)&&(t={}),s.map(function(e){var s=e[0],a=e[1];return n.default.createElement("style",{id:"__"+s,key:"__"+s,nonce:t.nonce?t.nonce:void 0,dangerouslySetInnerHTML:{__html:a}})})},s.getIdAndRules=function(e){var s=e.children,t=e.dynamic,a=e.id;if(t){var r=x(a,t);return{styleId:r,rules:Array.isArray(s)?s.map(function(e){return h(r,e)}):[h(r,s)]}}return{styleId:x(a),rules:Array.isArray(s)?s:[s]}},s.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,s){return e[s.id.slice(2)]=s,e},{})},e}(),u=r.createContext(null);u.displayName="StyleSheetContext";var b=n.default.useInsertionEffect||n.default.useLayoutEffect,j="undefined"!=typeof window?new m:void 0;function p(e){var s=j||r.useContext(u);return s&&("undefined"==typeof window?s.add(e):b(function(){return s.add(e),function(){s.remove(e)}},[e.id,String(e.dynamic)])),null}p.dynamic=function(e){return e.map(function(e){return x(e[0],e[1])}).join(" ")},s.style=p},29:function(e,s,t){"use strict";e.exports=t(8975).style}},function(e){e.O(0,[33,971,117,744],function(){return e(e.s=9171)}),_N_E=e.O()}]);