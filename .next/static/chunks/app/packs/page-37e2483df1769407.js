(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4879],{5289:function(e,t,r){Promise.resolve().then(r.bind(r,6666))},6666:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var n=r(7437),a=r(2265),s=r(7648),i=r(9376),o=r(9997),l=r(6281),c=r(8976),d=r(9178),u=r(4226),m=r(8395),h=r(5752),p=r(9205);let f=(0,p.Z)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),b=(0,p.Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),x=(0,p.Z)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),g=(0,p.Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var y=r(2023);let v=(0,p.Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),k=(0,p.Z)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),j=(0,p.Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var N=r(8906),w=r(6858);let _=(0,o.B)(),P={first_time:15,in_person:12,bundle:22};function C(){let{user:e}=(0,l.a)(),t=(0,i.useRouter)(),{loading:o,hasFirstTime:p,hasInPerson:C,hasBundle:I,refreshEntitlements:S}=(0,c.m)(),[A,Z]=(0,a.useState)(!0),[T,E]=(0,a.useState)([]),[M,z]=(0,a.useState)(null),[O,q]=(0,a.useState)(null),[B,R]=(0,a.useState)(null);(0,a.useEffect)(()=>{U();let e=new URLSearchParams(window.location.search),t=e.get("checkout"),r=e.get("session_id");"success"===t?(q("success"),r&&R(r),S(),setTimeout(()=>{window.history.replaceState({},"","/packs"),q(null)},5e3)):"cancel"===t&&(q("cancel"),setTimeout(()=>{window.history.replaceState({},"","/packs"),q(null)},3e3))},[S]);let U=async function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];e&&Z(!0);try{let{data:{session:e}}=await _.auth.getSession(),t={"Content-Type":"application/json"};(null==e?void 0:e.access_token)&&(t.Authorization="Bearer ".concat(e.access_token));let n=await fetch("/api/packs",{headers:t}),a=await n.json();if(!a.success){console.error("Failed to load packs:",a.error);return}E(a.userPacks||[]),z(a.selectedPackId||null);let{addPack:s}=await r.e(7116).then(r.bind(r,7116));(a.userPacks||[]).filter(e=>e.isUnlocked).map(e=>e.packId).forEach(e=>{s(e)})}catch(e){console.error("Error loading packs:",e)}finally{e&&Z(!1)}},L=e=>"first_time"===e?p:"in_person"===e?C:"bundle"===e||"bundle_both"===e?I||p&&C:T.some(t=>t.packId===e&&t.isUnlocked),[D,F]=(0,a.useState)(null),Y=async r=>{if(!e){t.push("/login?message=Please sign in to unlock packs");return}try{let e={first_time:"first_time",in_person:"in_person",bundle:"bundle_both",bundle_both:"bundle_both"}[r];if(!e){alert("This pack is not available for purchase yet.");return}let n=await fetch("/api/checkout/create",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({product_key:e})}),a=await n.json();if(!a.success){if(console.error("Failed to create checkout session:",a.error),401===n.status||"Unauthorized"===a.error||"Invalid token"===a.error){alert("You need to sign in or sign up to unlock packs and access enhanced features.\n\nPlease sign in and try again."),t.push("/login");return}alert("Unable to start checkout. Please try again.");return}a.url?window.location.href=a.url:alert("Checkout URL not received. Please try again.")}catch(e){console.error("Error creating checkout session:",e),alert("An error occurred while starting checkout. Please try again.")}},X=e=>({first_time:f,cash:b,financing:x,in_person:g,bundle:y.Z})[e]||y.Z,J=e=>({first_time:"Gain confidence and clarity for your first car purchase",cash:"Maximize leverage from your cash position",financing:"Protect your credit while securing better terms",in_person:"Stay in control during in-person negotiations",bundle:"Complete guidance from first contact through in-person negotiation"})[e.id]||"",V=e=>({first_time:"Navigate your first car purchase with confidence and avoid costly mistakes.",cash:"Leverage your cash position to secure the lowest possible price.",financing:"Master financing negotiations and protect your credit score.",in_person:"Handle in-person pressure tactics and close deals on your terms.",bundle:"Get both packs at a discounted price. Perfect for comprehensive coverage from start to finish."})[e.id]||e.description,G=e=>({first_time:["Deal Readiness Assessment for any listing (fair price, OTD reality check, confidence verdict)","Clear explanations of fees, taxes, APR, and loan terms as they apply to your deal","Personalized checklist of what to verify before you proceed","Visibility into common hidden costs and dealer add-ons","Safe, written-only guidance for requesting OTD and clarifying fees"],cash:["Strategic timing for cash disclosure","Proof-of-funds handling guidance","OTD-focused negotiation scripts","Avoid monthly payment anchoring traps"],financing:["APR & term negotiation strategies","Pre-approval leverage tactics","Payment anchoring avoidance","Credit protection guidance"],in_person:["Short, spoken-language talk tracks","Manager & pressure tactic decoder","If they say X → say Y response guide","OTD closing scripts & walk-away signals"],bundle:["Everything in First-Time Buyer Pack","Everything in In-Person Negotiation Pack","Best value: Save $5 compared to buying separately","Complete coverage from first contact to closing"]})[e.id]||e.features||[],H=Object.values(m.l).sort((e,t)=>"first_time"===e.id?-1:"first_time"===t.id?1:0);return(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-zinc-50 via-white to-zinc-50",children:(0,n.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-16",children:[(0,n.jsxs)("div",{className:"text-center max-w-3xl mx-auto mb-12",children:[(0,n.jsxs)("div",{className:"inline-flex items-center space-x-2 px-3 py-1.5 rounded-full bg-gradient-to-r from-primary/5 via-accent/5 to-primary/5 border border-brand-border mb-6",children:[(0,n.jsx)(y.Z,{className:"w-4 h-4 text-primary"}),(0,n.jsx)("span",{className:"text-sm font-medium text-brand-ink",children:"Buying Strategies"})]}),(0,n.jsx)("h1",{className:"text-4xl sm:text-5xl font-semibold text-brand-ink mb-4 tracking-tight",children:"Choose Your Negotiation Strategy"}),(0,n.jsx)("p",{className:"text-base text-brand-muted/90 mb-3 leading-relaxed",children:"Most buyers start with the First-Time Buyer Pack and expand as needed."}),(0,n.jsx)("p",{className:"text-lg text-brand-muted mb-2 leading-relaxed",children:"Each pack unlocks specialized guidance, scripts, and tools tailored to your buying situation."}),(0,n.jsx)("p",{className:"text-sm text-brand-muted/80",children:"One-time unlock • Lifetime access • No subscription"})]}),"success"===O&&(0,n.jsx)("div",{className:"max-w-2xl mx-auto mb-8",children:(0,n.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-start space-x-3",children:[(0,n.jsx)(k,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("p",{className:"text-sm font-semibold text-green-900 mb-1",children:"Payment complete — unlocking your pack…"}),(0,n.jsx)("p",{className:"text-xs text-green-700",children:"Your pack is being activated. This may take a few seconds."})]})]})}),"cancel"===O&&(0,n.jsx)("div",{className:"max-w-2xl mx-auto mb-8",children:(0,n.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start space-x-3",children:[(0,n.jsx)(v,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("p",{className:"text-sm font-semibold text-amber-900 mb-1",children:"Checkout canceled"}),(0,n.jsx)("p",{className:"text-xs text-amber-700",children:"No charges were made. You can try again anytime."})]})]})}),A?(0,n.jsxs)("div",{className:"text-center py-16",children:[(0,n.jsx)("div",{className:"inline-block animate-spin rounded-full h-10 w-10 border-b-2 border-primary mb-4"}),(0,n.jsx)("p",{className:"text-brand-muted",children:"Loading buying strategies..."})]}):(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:H.map(e=>{let t=L(e.id);e.id;let r=!0===e.comingSoon,a="first_time"===e.id,i="bundle"===e.id,l=X(e.id),c=V(e),m=G(e);return(0,n.jsxs)(d.Z,{className:"relative p-8 flex flex-col h-full transition-all duration-300 hover:shadow-xl hover:-translate-y-1 ".concat(r?"opacity-60":""," ").concat(a?"border-2 border-accent/30 shadow-lg bg-accent/5":""," ").concat(t&&!r?"bg-accent/5 border-accent/20":""),children:[a&&(0,n.jsx)("div",{className:"absolute -top-3 left-6",children:(0,n.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-accent text-accent-foreground shadow-md",children:[(0,n.jsx)(y.Z,{className:"w-3 h-3 mr-1.5"}),"Recommended starting point"]})}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center ".concat(a?"bg-accent/10":"bg-brand-background"),children:(0,n.jsx)(l,{className:"w-6 h-6 ".concat(a?"text-accent-hover":"text-brand-muted")})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-brand-ink mb-1",children:e.name}),(0,n.jsx)("div",{className:"flex items-center space-x-2",children:r?(0,n.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-50 text-amber-700 border border-amber-200",children:[(0,n.jsx)(v,{className:"w-3 h-3 mr-1"}),"Coming Soon"]}):t?(0,n.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-accent/15 text-accent-hover border border-accent/30",children:[(0,n.jsx)(k,{className:"w-3 h-3 mr-1"}),"You have access"]}):(0,n.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-brand-background text-brand-muted border border-brand-border",children:[(0,n.jsx)(j,{className:"w-3 h-3 mr-1"}),"Locked"]})})]})]})}),!r&&(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)("p",{className:"text-sm font-medium text-brand-ink mb-2",children:J(e)})}),(0,n.jsx)("p",{className:"text-sm leading-relaxed mb-6 ".concat(r?"text-brand-muted/70":"text-brand-muted"),children:c}),(0,n.jsx)("div",{className:"space-y-2.5",children:m.slice(0,4).map((e,t)=>(0,n.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,n.jsx)("span",{className:"flex-shrink-0 text-base mt-0.5 ".concat(a?"text-accent":"text-brand-muted"),children:"•"}),(0,n.jsx)("p",{className:"text-sm text-brand-ink leading-relaxed flex-1",children:e})]},t))})]}),(0,n.jsx)("div",{className:"mt-auto pt-6 border-t border-brand-border",children:r?(0,n.jsxs)("div",{className:"text-center py-4 opacity-75",children:[(0,n.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-gray-100 mb-3",children:(0,n.jsx)(v,{className:"w-6 h-6 text-gray-400"})}),(0,n.jsx)("p",{className:"text-sm font-medium text-brand-muted mb-1",children:"Launching Soon"}),(0,n.jsx)("p",{className:"text-xs text-brand-muted/70 mb-4",children:"This buying strategy is in development. We're building something special."}),(0,n.jsx)(u.Z,{variant:"secondary",className:"w-full opacity-50",disabled:!0,children:"Notify Me When Available"})]}):t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"mb-4 text-center",children:(0,n.jsxs)("div",{className:"inline-flex items-center px-3 py-1.5 rounded-lg bg-accent/10 text-accent-hover text-sm font-medium",children:[(0,n.jsx)(k,{className:"w-4 h-4 mr-2"}),"You have access"]})}),!i&&(0,n.jsxs)("div",{className:"bg-brand-background border border-brand-border rounded-lg p-4",children:[(0,n.jsxs)("div",{className:"flex items-start space-x-2 mb-3",children:[(0,n.jsx)(N.Z,{className:"w-4 h-4 text-accent mt-0.5 flex-shrink-0"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-semibold text-brand-ink mb-1",children:"Pack Unlocked"}),(0,n.jsx)("p",{className:"text-xs text-brand-muted mb-2",children:"Access enhanced features through these links:"}),(0,n.jsx)("p",{className:"text-xs text-brand-muted/80 italic mb-3",children:"These links take you to the enhanced versions with pack-specific features."})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)(s.default,{href:function(e){if(!e)return"/analyzer/free";switch(e){case"first_time":return"/analyzer/first-time";case"in_person":return"/analyzer/in-person";default:return"/analyzer/free"}}(e.id),className:"flex items-center justify-between w-full px-3 py-2 bg-white rounded-md border border-brand-border hover:border-primary hover:bg-brand-background transition-colors group",children:[(0,n.jsx)("span",{className:"text-sm font-medium text-brand-ink",children:"Listing Analyzer"}),(0,n.jsx)(w.Z,{className:"w-4 h-4 text-primary group-hover:translate-x-1 transition-transform"})]}),"in_person"!==e.id&&(0,n.jsxs)(s.default,{href:function(e){if(!e)return"/calculator/free";switch(e){case"first_time":return"/calculator/first-time";case"in_person":return"/calculator/in-person";default:return"/calculator/free"}}(e.id),className:"flex items-center justify-between w-full px-3 py-2 bg-white rounded-md border border-brand-border hover:border-primary hover:bg-brand-background transition-colors group",children:[(0,n.jsx)("span",{className:"text-sm font-medium text-brand-ink",children:"Smart OTD Builder"}),(0,n.jsx)(w.Z,{className:"w-4 h-4 text-primary group-hover:translate-x-1 transition-transform"})]}),"in_person"===e.id?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.default,{href:"/copilot/in-person",className:"flex items-center justify-between w-full px-3 py-2 bg-white rounded-md border border-brand-border hover:border-primary hover:bg-brand-background transition-colors group",children:[(0,n.jsx)("span",{className:"text-sm font-medium text-brand-ink",children:"In-Person Negotiation Tools"}),(0,n.jsx)(w.Z,{className:"w-4 h-4 text-primary group-hover:translate-x-1 transition-transform"})]}),(0,n.jsx)("p",{className:"text-xs text-brand-muted/70 px-3 mb-2",children:"Includes: Prepare Me, Draft Builder, Live Coach"})]}):"first_time"===e.id?null:(0,n.jsxs)(s.default,{href:(0,h.d)(e.id),className:"flex items-center justify-between w-full px-3 py-2 bg-white rounded-md border border-brand-border hover:border-primary hover:bg-brand-background transition-colors group",children:[(0,n.jsx)("span",{className:"text-sm font-medium text-brand-ink",children:"Negotiation Draft Builder"}),(0,n.jsx)(w.Z,{className:"w-4 h-4 text-primary group-hover:translate-x-1 transition-transform"})]})]})]})]}):(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("div",{className:"flex items-baseline justify-center space-x-1 mb-3",children:[(0,n.jsxs)("span",{className:"text-2xl font-bold text-brand-ink",children:["$",P[e.id]||"—"]}),P[e.id]===P.bundle&&(0,n.jsxs)("span",{className:"text-sm text-brand-muted line-through",children:["$",(P.first_time||0)+(P.in_person||0)]})]}),(0,n.jsxs)(u.Z,{className:"w-full mb-2",variant:"primary",onClick:()=>Y(e.id),disabled:A||o,children:[(0,n.jsx)(j,{className:"w-4 h-4 mr-2"}),"Unlock This Pack"]}),(0,n.jsx)("p",{className:"text-xs text-center text-brand-muted/80",children:"One-time unlock • Lifetime access"})]})})})]},e.id)})})]})})}},4226:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(7437);function a(e){let{variant:t="primary",size:r="md",className:a="",children:s,...i}=e;return(0,n.jsx)("button",{className:"".concat("font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500"}[t]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[r]," ").concat(a),...i,children:s})}r(2265)},9178:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(7437);function a(e){let{children:t,className:r=""}=e;return(0,n.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 ".concat(r),children:t})}r(2265)},6281:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return l},a:function(){return c}});var n=r(7437),a=r(2265);let s=(0,r(9997).B)(),i=()=>{{let e="https://vabikejehdmpfcyqrgrs.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZhYmlrZWplaGRtcGZjeXFyZ3JzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NzAzNDAsImV4cCI6MjA4MTA0NjM0MH0.X_Z7szu62swGviqYgtI2mxV3F1vX4UBYpuZYV2n7h4Q";return!!(e&&t&&e.length>10&&t.length>10&&!e.includes("placeholder"))}},o=(0,a.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0);(0,a.useEffect)(()=>{if(!i()){console.warn("Supabase not configured. Running in unauthenticated mode."),l(null),d(!1);return}let e=!0,t=null;(async()=>{try{let{data:{session:r},error:n}=await s.auth.getSession();if(!e)return;if(n)console.error("[AuthContext] Error getting initial session:",n),l(null);else{var t;console.log("[AuthContext] Initial session:",r?"User: ".concat(r.user.email):"No session"),l(null!==(t=null==r?void 0:r.user)&&void 0!==t?t:null)}d(!1)}catch(t){if(!e)return;console.error("[AuthContext] Error initializing auth:",t),l(null),d(!1)}})();let{data:{subscription:r}}=s.auth.onAuthStateChange(async(t,r)=>{var n;e&&(console.log("[AuthContext] Auth state changed:",t,r?"User: ".concat(r.user.email):"No session"),l(null!==(n=null==r?void 0:r.user)&&void 0!==n?n:null),d(!1))});return t=r,()=>{e=!1,t&&t.unsubscribe()}},[]);let u=async()=>{i()&&await s.auth.signOut(),l(null)};return(0,n.jsx)(o.Provider,{value:{user:r,loading:c,signOut:u},children:t})}function c(){let e=(0,a.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},8976:function(e,t,r){"use strict";r.d(t,{m:function(){return s}});var n=r(2265);let a=(0,r(9997).B)();function s(){let[e,t]=(0,n.useState)(!0),[r,s]=(0,n.useState)({first_time:!1,in_person:!1,bundle:!1}),i=(0,n.useCallback)(async()=>{try{t(!0);let{data:{user:e}}=await a.auth.getUser();if(!e){s({first_time:!1,in_person:!1,bundle:!1}),t(!1);return}let{data:r,error:n}=await a.from("user_entitlements").select("first_time, in_person, bundle").eq("user_id",e.id).single();n?"PGRST116"===n.code?s({first_time:!1,in_person:!1,bundle:!1}):console.error("[useEntitlements] Error fetching entitlements:",n):s({first_time:(null==r?void 0:r.first_time)||!1,in_person:(null==r?void 0:r.in_person)||!1,bundle:(null==r?void 0:r.bundle)||!1})}catch(e){console.error("[useEntitlements] Error:",e)}finally{t(!1)}},[]);(0,n.useEffect)(()=>{i();let{data:{subscription:e}}=a.auth.onAuthStateChange(()=>{i()});return()=>{e.unsubscribe()}},[i]);let o=r.first_time||r.bundle,l=r.in_person||r.bundle,c=r.bundle;return{loading:e,entitlements:r,hasFirstTime:o,hasInPerson:l,hasBundle:c,refreshEntitlements:i}}},8395:function(e,t,r){"use strict";r.d(t,{Z:function(){return a},l:function(){return n}});let n={first_time:{id:"first_time",name:"First-Time Buyer Pack",description:"Guidance for first-time buyers: financing basics, affordability, clarity.",features:["Budget & credit band questions","APR & term definitions","OTD vs monthly education","First-time friendly scripts"],education:["OTD includes taxes, fees, and registration - focus on OTD, not monthly.","APR is the annualized cost of borrowing - compare against pre-approval if you have one.","Longer terms lower monthly payment but increase total interest paid."],questions:[{id:"budget",label:"Max OTD budget",type:"number",required:!0,placeholder:"e.g., 25000"},{id:"credit_band",label:"Credit range (approx)",type:"select",required:!1,options:[{value:"excellent",label:"Excellent (760+)"},{value:"good",label:"Good (700-759)"},{value:"fair",label:"Fair (640-699)"},{value:"new",label:"Limited/First-time"}]},{id:"down_payment_est",label:"Down payment estimate",type:"number",required:!1,placeholder:"e.g., 4000"},{id:"driving_needs",label:"Primary driving needs",type:"text",required:!1,placeholder:"e.g., commute 40 miles daily"}]},cash:{id:"cash",name:"Cash Buyer Pack",description:"Cash-specific tactics and proof-of-funds handling.",features:["Cash disclosure timing","Proof-of-funds guidance","OTD and fees focus","No monthly payment talk"],education:["Delay disclosing cash until you have negotiated price.","Have proof of funds ready, but share only when it helps close at your price.","Cash can justify lower price: simpler deal, no financing reserve for dealer."],questions:[{id:"proof_of_funds",label:"Do you have proof of funds?",type:"boolean",required:!1},{id:"disclose_cash",label:"When do you want to disclose cash?",type:"select",required:!1,options:[{value:"late",label:"Only after price is agreed"},{value:"mid",label:"After initial counter"},{value:"early",label:"I prefer to disclose early"}]},{id:"open_to_finance",label:"Open to financing if it reduces price?",type:"boolean",required:!1}],comingSoon:!0},financing:{id:"financing",name:"Financing Buyer Pack",description:"Financing coaching: APR, term, pre-approval leverage.",features:["Max monthly & OTD focus","Pre-approval leverage","APR/term questions","Payment anchoring avoidance"],education:["Negotiate OTD first, financing second - do not anchor on monthly payment.","Compare dealer APR against your pre-approval; ask if low APR is contingent on add-ons.","Shorter terms cost more monthly but less interest overall."],questions:[{id:"target_monthly",label:"Target monthly (optional)",type:"number",required:!1,placeholder:"e.g., 400"},{id:"max_otd",label:"Max OTD",type:"number",required:!0,placeholder:"e.g., 25000"},{id:"preferred_term",label:"Preferred term",type:"select",required:!1,options:[{value:"36",label:"36 mo"},{value:"48",label:"48 mo"},{value:"60",label:"60 mo"},{value:"72",label:"72 mo"}]},{id:"pre_approved",label:"Do you have pre-approval?",type:"boolean",required:!1},{id:"pre_approval_rate",label:"Pre-approval APR",type:"number",required:!1,placeholder:"e.g., 5.5"}],comingSoon:!0},in_person:{id:"in_person",name:"In-Person Negotiation Pack",description:"Dealership talk tracks and pressure handling.",features:["Short talk tracks","Manager/pressure tactics","If they say X → say Y","Closing script for OTD"],education:["Practice your talk track - don't rely on recording; use written notes instead.",'If "manager" pressure starts, slow down: ask for written OTD before deciding.',"Have 2-3 calm phrases ready for add-on upsells."],questions:[{id:"comfort_firm",label:"Comfort being firm?",type:"select",required:!1,options:[{value:"low",label:"Prefer soft approach"},{value:"medium",label:"Comfortable pushing back politely"},{value:"high",label:"Very firm when needed"}]},{id:"expected_objections",label:"Objections you expect",type:"textarea",required:!1,placeholder:'e.g., "Price is already low", "Manager approval needed".'},{id:"has_trade_in",label:"Trade-in?",type:"boolean",required:!1}]},bundle:{id:"bundle",name:"Complete Bundle",description:"Get both packs at a discounted price: First-Time Buyer Pack + In-Person Negotiation Pack.",features:["Everything in First-Time Buyer Pack","Everything in In-Person Negotiation Pack","Best value for comprehensive coverage","Unlock both packs with one purchase"],education:["The bundle includes all features from both individual packs.","Perfect if you want complete guidance from first contact through in-person negotiation.","Save money compared to buying packs separately."],questions:[]}};function a(e){return n[e]||n.first_time}},9997:function(e,t,r){"use strict";r.d(t,{B:function(){return i}});var n=r(4033);let a="https://vabikejehdmpfcyqrgrs.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZhYmlrZWplaGRtcGZjeXFyZ3JzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NzAzNDAsImV4cCI6MjA4MTA0NjM0MH0.X_Z7szu62swGviqYgtI2mxV3F1vX4UBYpuZYV2n7h4Q";if(!a||!s){let e=[];throw a||e.push("NEXT_PUBLIC_SUPABASE_URL"),s||e.push("NEXT_PUBLIC_SUPABASE_ANON_KEY"),Error("[CRITICAL] Missing required Supabase environment variables: ".concat(e.join(", "),". ")+"These must be set in Vercel environment variables and available at build time.")}if(a.includes("placeholder")||s.includes("placeholder")){let e=[];throw a.includes("placeholder")&&e.push("NEXT_PUBLIC_SUPABASE_URL"),s.includes("placeholder")&&e.push("NEXT_PUBLIC_SUPABASE_ANON_KEY"),Error("[CRITICAL] Supabase environment variables contain placeholder values. Please set real values in Vercel environment variables. "+"Found placeholder in: ".concat(e.join(" and ")))}if(a.length<10||s.length<10)throw Error("[CRITICAL] Supabase environment variables appear to be invalid (too short). Please verify they are set correctly in Vercel.");function i(){return(0,n.createBrowserClient)(a,s)}},5752:function(e,t,r){"use strict";function n(e){if(!e)return"/copilot/free";switch(e){case"first_time":return"/copilot/first-time";case"in_person":return"/copilot/in-person";default:return"/copilot/free"}}function a(e,t,r){return e?n(e):"/copilot/free"}r.d(t,{M:function(){return a},d:function(){return n}})},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(2265);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),i=e=>{let t=s(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:d="",children:u,iconNode:m,...h}=e;return(0,n.createElement)("svg",{ref:t,...c,width:a,height:a,stroke:r,strokeWidth:i?24*Number(s)/Number(a):s,className:o("lucide",d),...!u&&!l(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,n.forwardRef)((r,s)=>{let{className:l,...c}=r;return(0,n.createElement)(d,{ref:s,iconNode:t,className:o("lucide-".concat(a(i(e))),"lucide-".concat(e),l),...c})});return r.displayName=i(e),r}},6858:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9205).Z)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},8906:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9205).Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},2023:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9205).Z)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},9376:function(e,t,r){"use strict";var n=r(5475);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})}},function(e){e.O(0,[4033,7648,2971,2117,1744],function(){return e(e.s=5289)}),_N_E=e.O()}]);