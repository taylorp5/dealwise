(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[66],{4723:function(e,s,r){Promise.resolve().then(r.bind(r,4069))},4069:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return m}});var t=r(7437),a=r(2265),n=r(9376),l=r(7648),o=r(9997),i=r(9178),c=r(4226);let u=(0,o.B)();function d(){let e=(0,n.useRouter)(),[s,r]=(0,a.useState)(""),[o,d]=(0,a.useState)(""),[m,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)(null),[x,f]=(0,a.useState)(!1);(0,a.useEffect)(()=>{"recovery"!==new URLSearchParams(window.location.hash.substring(1)).get("type")&&g("Invalid reset link. Please request a new password reset.")},[]);let b=async r=>{if(r.preventDefault(),h(!0),g(null),s!==o){g("Passwords do not match"),h(!1);return}if(s.length<6){g("Password must be at least 6 characters"),h(!1);return}console.log("[AUTH] Calling updateUser to reset password");try{let{data:r,error:t}=await u.auth.updateUser({password:s});if(console.log("[AUTH] updateUser response:",{hasData:!!r,hasUser:!!(null==r?void 0:r.user),hasError:!!t,errorMessage:null==t?void 0:t.message,errorStatus:null==t?void 0:t.status,errorName:null==t?void 0:t.name}),t){console.error("[AUTH] updateUser ERROR:",{method:"updateUser",httpStatus:t.status,message:t.message,name:t.name,fullError:t});let e=t.message||"Failed to reset password. Please try again.";g(e),h(!1);return}console.log("[AUTH] updateUser SUCCESS - Password reset complete"),f(!0),h(!1),setTimeout(()=>{e.push("/login")},2e3)}catch(e){console.error("[AUTH] updateUser EXCEPTION:",{method:"updateUser",message:e.message,name:e.name,stack:e.stack}),g(e.message||"An error occurred. Please try again."),h(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"max-w-md w-full",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reset Password"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Enter your new password"})]}),(0,t.jsxs)(i.Z,{children:[x?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"rounded-full h-12 w-12 bg-green-100 flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"h-6 w-6 text-green-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("p",{className:"text-gray-700 mb-4",children:"Password reset successful!"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Redirecting to sign in..."})]}):(0,t.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[p&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,t.jsx)("p",{className:"text-sm text-red-700",children:p})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),(0,t.jsx)("input",{id:"password",type:"password",value:s,onChange:e=>r(e.target.value),required:!0,minLength:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"••••••••"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Must be at least 6 characters"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),(0,t.jsx)("input",{id:"confirmPassword",type:"password",value:o,onChange:e=>d(e.target.value),required:!0,minLength:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"••••••••"})]}),(0,t.jsx)(c.Z,{type:"submit",className:"w-full",disabled:m,children:m?"Resetting password...":"Reset Password"})]}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsx)(l.default,{href:"/login",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Back to sign in"})})]})]})})}function m(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}),children:(0,t.jsx)(d,{})})}},4226:function(e,s,r){"use strict";r.d(s,{Z:function(){return a}});var t=r(7437);function a(e){let{variant:s="primary",size:r="md",className:a="",children:n,...l}=e;return(0,t.jsx)("button",{className:"".concat("font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500"}[s]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[r]," ").concat(a),...l,children:n})}r(2265)},9178:function(e,s,r){"use strict";r.d(s,{Z:function(){return a}});var t=r(7437);function a(e){let{children:s,className:r=""}=e;return(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 ".concat(r),children:s})}r(2265)},9997:function(e,s,r){"use strict";r.d(s,{B:function(){return l}});var t=r(4033);let a="https://vabikejehdmpfcyqrgrs.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZhYmlrZWplaGRtcGZjeXFyZ3JzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NzAzNDAsImV4cCI6MjA4MTA0NjM0MH0.X_Z7szu62swGviqYgtI2mxV3F1vX4UBYpuZYV2n7h4Q";if(!a||!n){let e=[];throw a||e.push("NEXT_PUBLIC_SUPABASE_URL"),n||e.push("NEXT_PUBLIC_SUPABASE_ANON_KEY"),Error("[CRITICAL] Missing required Supabase environment variables: ".concat(e.join(", "),". ")+"These must be set in Vercel environment variables and available at build time.")}if(a.includes("placeholder")||n.includes("placeholder")){let e=[];throw a.includes("placeholder")&&e.push("NEXT_PUBLIC_SUPABASE_URL"),n.includes("placeholder")&&e.push("NEXT_PUBLIC_SUPABASE_ANON_KEY"),Error("[CRITICAL] Supabase environment variables contain placeholder values. Please set real values in Vercel environment variables. "+"Found placeholder in: ".concat(e.join(" and ")))}if(a.length<10||n.length<10)throw Error("[CRITICAL] Supabase environment variables appear to be invalid (too short). Please verify they are set correctly in Vercel.");function l(){return(0,t.createBrowserClient)(a,n)}},9376:function(e,s,r){"use strict";var t=r(5475);r.o(t,"useParams")&&r.d(s,{useParams:function(){return t.useParams}}),r.o(t,"usePathname")&&r.d(s,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})}},function(e){e.O(0,[33,648,971,117,744],function(){return e(e.s=4723)}),_N_E=e.O()}]);