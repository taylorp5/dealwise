(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[453],{5468:function(e,s,r){Promise.resolve().then(r.bind(r,6656))},6656:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return c}});var n=r(7437),t=r(2265),a=r(9376),i=r(9997),o=r(9178);let l=(0,i.B)();function c(){let e=(0,a.useRouter)(),[s,r]=(0,t.useState)("loading"),[i,c]=(0,t.useState)("Completing sign in...");return(0,t.useEffect)(()=>{(async()=>{try{await new Promise(e=>setTimeout(e,100));let{data:s,error:n}=await l.auth.getSession();if(n){console.error("[Auth Callback] Error getting session:",{message:n.message,name:n.name}),r("error"),c(n.message||"Failed to complete sign in. Please try again."),setTimeout(()=>{e.push("/login")},3e3);return}if(s.session&&s.session.user)console.log("[Auth Callback] Success, user:",s.session.user.email),r("success"),c("Sign in successful! Redirecting..."),setTimeout(()=>{e.push("/"),e.refresh()},1500);else{let s=3,n=setInterval(async()=>{let{data:t,error:a}=await l.auth.getSession();t.session&&t.session.user?(console.log("[Auth Callback] Success on retry, user:",t.session.user.email),clearInterval(n),r("success"),c("Sign in successful! Redirecting..."),setTimeout(()=>{e.push("/"),e.refresh()},1500)):--s<=0&&(clearInterval(n),console.error("[Auth Callback] No session found after retries"),r("error"),c("No session found. Please try signing in again."),setTimeout(()=>{e.push("/login")},3e3))},500)}}catch(s){console.error("[Auth Callback] Unexpected error:",{message:s.message,name:s.name}),r("error"),c(s.message||"An error occurred. Please try again."),setTimeout(()=>{e.push("/login")},3e3)}})()},[e]),(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:(0,n.jsx)("div",{className:"max-w-md w-full",children:(0,n.jsx)(o.Z,{children:(0,n.jsxs)("div",{className:"text-center py-8",children:["loading"===s&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-gray-700",children:i})]}),"success"===s&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"rounded-full h-12 w-12 bg-green-100 flex items-center justify-center mx-auto mb-4",children:(0,n.jsx)("svg",{className:"h-6 w-6 text-green-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{d:"M5 13l4 4L19 7"})})}),(0,n.jsx)("p",{className:"text-gray-700",children:i})]}),"error"===s&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"rounded-full h-12 w-12 bg-red-100 flex items-center justify-center mx-auto mb-4",children:(0,n.jsx)("svg",{className:"h-6 w-6 text-red-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})}),(0,n.jsx)("p",{className:"text-red-700 mb-4",children:i}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Redirecting to sign in page..."})]})]})})})})}},9178:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});var n=r(7437);function t(e){let{children:s,className:r=""}=e;return(0,n.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 ".concat(r),children:s})}r(2265)},9997:function(e,s,r){"use strict";r.d(s,{B:function(){return i}});var n=r(4033);let t="https://vabikejehdmpfcyqrgrs.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZhYmlrZWplaGRtcGZjeXFyZ3JzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NzAzNDAsImV4cCI6MjA4MTA0NjM0MH0.X_Z7szu62swGviqYgtI2mxV3F1vX4UBYpuZYV2n7h4Q";if(!t||!a){let e=[];throw t||e.push("NEXT_PUBLIC_SUPABASE_URL"),a||e.push("NEXT_PUBLIC_SUPABASE_ANON_KEY"),Error("[CRITICAL] Missing required Supabase environment variables: ".concat(e.join(", "),". ")+"These must be set in Vercel environment variables and available at build time.")}if(t.includes("placeholder")||a.includes("placeholder")){let e=[];throw t.includes("placeholder")&&e.push("NEXT_PUBLIC_SUPABASE_URL"),a.includes("placeholder")&&e.push("NEXT_PUBLIC_SUPABASE_ANON_KEY"),Error("[CRITICAL] Supabase environment variables contain placeholder values. Please set real values in Vercel environment variables. "+"Found placeholder in: ".concat(e.join(" and ")))}if(t.length<10||a.length<10)throw Error("[CRITICAL] Supabase environment variables appear to be invalid (too short). Please verify they are set correctly in Vercel.");function i(){return(0,n.createBrowserClient)(t,a)}},9376:function(e,s,r){"use strict";var n=r(5475);r.o(n,"useParams")&&r.d(s,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(s,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(s,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(s,{useSearchParams:function(){return n.useSearchParams}})}},function(e){e.O(0,[33,971,117,744],function(){return e(e.s=5468)}),_N_E=e.O()}]);